import { StageDialogue } from "../dialogue";

export const stage1Dialogue: StageDialogue = {
  stageId: 1,
  initialStepId: "step1",
  requiredMilestones: ["passport", "purpose", "duration", "location"],
  successMessage: "입국심사를 무사히 통과했습니다! 일본 여행의 첫 관문을 넘었어요.",
  successNpcLine: "はい、結構です。日本へようこそ。",
  successNpcLineKo: "네, 됐습니다. 일본에 오신 것을 환영합니다.",
  successNpcLinePronunciation: "하이, 켓코-데스. 니혼에 요-코소.",
  steps: [
    // ── Step 1: パスポート提示 ────────────────────────────
    {
      id: "step1",
      npcLine: "次の方、どうぞ。パスポートを見せてください。",
      npcLineKo: "다음 분, 이쪽으로 오세요. 여권을 보여주세요.",
      npcLinePronunciation: "츠기노 카타, 도-조. 파스포-토오 미세테 쿠다사이.",
      npcEmotion: "neutral",
      isMilestone: true,
      milestoneTag: "passport",
      education: {
        keyExpression: {
          pattern: "〜を見せてください",
          patternKo: "〜을/를 보여주세요",
          explanation: "상대방에게 무언가를 보여달라고 정중하게 요청하는 표현입니다.",
          formality: "polite",
        },
        vocabulary: [
          {
            word: "パスポート",
            reading: "パスポート",
            pronunciation: "파스포-토",
            meaning: "여권",
          },
          {
            word: "見せる",
            reading: "みせる",
            pronunciation: "미세루",
            meaning: "보여주다",
          },
          {
            word: "次",
            reading: "つぎ",
            pronunciation: "츠기",
            meaning: "다음",
          },
        ],
      },
      choices: [
        {
          id: "step1_ok",
          text: "あ、パスポート…これです。",
          textKo: "아, 여권… 이거요.",
          pronunciation: "아, 파스포-토… 코레데스.",
          quality: "ok",
          damage: 5,
          feedback: "여권을 건넸지만 좀 더 자신감 있게 말할 수 있어요!",
          npcEmotion: "neutral",
          nextStepId: "step2",
        },
        {
          id: "step1_best",
          text: "はい、どうぞ。こちらです。",
          textKo: "네, 여기요. 이쪽입니다.",
          pronunciation: "하이, 도-조. 코치라데스.",
          quality: "best",
          damage: 0,
          feedback: "완벽해요! 자연스럽게 여권을 건넸습니다.",
          npcEmotion: "neutral",
          nextStepId: "step2",
        },
        {
          id: "step1_bad",
          text: "え？何ですか？",
          textKo: "네? 뭐라고요?",
          pronunciation: "에? 난데스카?",
          quality: "bad",
          damage: 15,
          feedback: "입국심사관에게 되묻는 건 좋지 않아요. 여권을 보여달라는 건 입국심사의 기본이에요!",
          npcEmotion: "angry",
          nextStepId: "step1_recovery",
        },
      ],
    },

    // ── Step 1 Recovery ──────────────────────────────────
    {
      id: "step1_recovery",
      npcLine: "パスポートです。パスポートを出してください。",
      npcLineKo: "여권이요. 여권을 내주세요.",
      npcLinePronunciation: "파스포-토데스. 파스포-토오 다시테 쿠다사이.",
      npcEmotion: "angry",
      isMilestone: true,
      milestoneTag: "passport",
      education: {
        keyExpression: {
          pattern: "〜を出してください",
          patternKo: "〜을/를 내주세요",
          explanation: "'出す(다스)'는 '내다'라는 뜻으로, 무언가를 제출하거나 꺼내달라는 뜻입니다.",
          formality: "polite",
        },
        vocabulary: [
          {
            word: "出す",
            reading: "だす",
            pronunciation: "다스",
            meaning: "내다, 꺼내다",
          },
          {
            word: "お願いします",
            reading: "おねがいします",
            pronunciation: "오네가이시마스",
            meaning: "부탁합니다",
          },
        ],
      },
      choices: [
        {
          id: "step1r_best",
          text: "すみません、はい、どうぞ。",
          textKo: "죄송합니다, 네, 여기요.",
          pronunciation: "스미마셍, 하이, 도-조.",
          quality: "best",
          damage: 0,
          feedback: "사과하고 바로 여권을 건네서 좋았어요!",
          npcEmotion: "neutral",
          nextStepId: "step2",
        },
        {
          id: "step1r_ok",
          text: "あ、はい。これ。",
          textKo: "아, 네. 이거요.",
          pronunciation: "아, 하이. 코레.",
          quality: "ok",
          damage: 5,
          feedback: "여권을 건넸지만, 심사관이 짜증난 상태니 좀 더 정중하면 좋겠어요.",
          npcEmotion: "neutral",
          nextStepId: "step2",
        },
        {
          id: "step1r_bad",
          text: "ちょっと待ってください。",
          textKo: "잠깐만 기다려주세요.",
          pronunciation: "쵸또 맛테 쿠다사이.",
          quality: "bad",
          damage: 15,
          feedback: "이미 짜증이 난 심사관을 더 기다리게 하면 안 돼요! 빨리 여권을 보여주세요.",
          npcEmotion: "angry",
          nextStepId: "step2",
        },
      ],
    },

    // ── Step 2: 旅行の目的 ────────────────────────────────
    {
      id: "step2",
      npcLine: "旅行の目的は何ですか？",
      npcLineKo: "여행 목적이 무엇입니까?",
      npcLinePronunciation: "료코-노 모쿠테키와 난데스카?",
      npcEmotion: "neutral",
      isMilestone: true,
      milestoneTag: "purpose",
      education: {
        keyExpression: {
          pattern: "〜の目的は何ですか",
          patternKo: "〜의 목적은 무엇입니까",
          explanation: "목적을 묻는 공식적인 표현입니다. 입국심사에서 반드시 나오는 질문이에요.",
          formality: "formal",
        },
        vocabulary: [
          {
            word: "旅行",
            reading: "りょこう",
            pronunciation: "료코-",
            meaning: "여행",
          },
          {
            word: "目的",
            reading: "もくてき",
            pronunciation: "모쿠테키",
            meaning: "목적",
          },
          {
            word: "観光",
            reading: "かんこう",
            pronunciation: "캉코-",
            meaning: "관광",
          },
        ],
      },
      choices: [
        {
          id: "step2_bad",
          text: "日本語がわかりません。",
          textKo: "일본어를 모르겠어요.",
          pronunciation: "니혼고가 와카리마셍.",
          quality: "bad",
          damage: 15,
          feedback: "목적을 대답하지 않고 일본어를 모른다고 하면 심사가 어려워져요.",
          npcEmotion: "confused",
          nextStepId: "step2_recovery",
        },
        {
          id: "step2_best",
          text: "観光です。",
          textKo: "관광입니다.",
          pronunciation: "캉코-데스.",
          quality: "best",
          damage: 0,
          feedback: "완벽해요! 간결하고 명확하게 관광 목적을 밝혔습니다.",
          npcEmotion: "neutral",
          nextStepId: "step3",
        },
        {
          id: "step2_ok",
          text: "あー、観光…です。",
          textKo: "아-, 관광…입니다.",
          pronunciation: "아-, 캉코-… 데스.",
          quality: "ok",
          damage: 5,
          feedback: "목적을 말했지만 좀 더 자신감 있게 대답하면 좋겠어요!",
          npcEmotion: "neutral",
          nextStepId: "step3",
        },
      ],
    },

    // ── Step 2 Recovery ──────────────────────────────────
    {
      id: "step2_recovery",
      npcLine: "観光ですか？仕事ですか？目的を教えてください。",
      npcLineKo: "관광입니까? 일입니까? 목적을 알려주세요.",
      npcLinePronunciation: "캉코-데스카? 시고토데스카? 모쿠테키오 오시에테 쿠다사이.",
      npcEmotion: "confused",
      isMilestone: true,
      milestoneTag: "purpose",
      education: {
        keyExpression: {
          pattern: "〜ですか？",
          patternKo: "〜입니까?",
          explanation: "확인을 위한 의문문입니다. 선택지를 주면서 묻고 있어요.",
          formality: "polite",
        },
        vocabulary: [
          {
            word: "仕事",
            reading: "しごと",
            pronunciation: "시고토",
            meaning: "일, 업무",
          },
          {
            word: "教える",
            reading: "おしえる",
            pronunciation: "오시에루",
            meaning: "알려주다, 가르치다",
          },
        ],
      },
      choices: [
        {
          id: "step2r_ok",
          text: "あ、観光、観光です。",
          textKo: "아, 관광, 관광입니다.",
          pronunciation: "아, 캉코-, 캉코-데스.",
          quality: "ok",
          damage: 5,
          feedback: "당황해서 반복했지만 목적을 전달했어요.",
          npcEmotion: "neutral",
          nextStepId: "step3",
        },
        {
          id: "step2r_best",
          text: "すみません、観光です。",
          textKo: "죄송합니다, 관광입니다.",
          pronunciation: "스미마셍, 캉코-데스.",
          quality: "best",
          damage: 0,
          feedback: "사과하고 명확하게 목적을 말해서 좋았어요!",
          npcEmotion: "neutral",
          nextStepId: "step3",
        },
        {
          id: "step2r_bad",
          text: "…えーと…",
          textKo: "…음…",
          pronunciation: "…에-토…",
          quality: "bad",
          damage: 20,
          feedback: "계속 머뭇거리면 심사관이 의심할 수 있어요! '観光(캉코-)'라고 말해보세요.",
          npcEmotion: "angry",
          nextStepId: "step3",
        },
      ],
    },

    // ── Step 3: 滞在期間 ──────────────────────────────────
    {
      id: "step3",
      npcLine: "何日間の滞在ですか？",
      npcLineKo: "며칠간 체류하십니까?",
      npcLinePronunciation: "난니치캉노 타이자이데스카?",
      npcEmotion: "neutral",
      isMilestone: true,
      milestoneTag: "duration",
      education: {
        keyExpression: {
          pattern: "何日間〜ですか",
          patternKo: "며칠간 〜입니까",
          explanation: "'何日間'은 '며칠간'이라는 뜻입니다. 체류 기간을 묻는 표현이에요.",
          formality: "formal",
        },
        vocabulary: [
          {
            word: "滞在",
            reading: "たいざい",
            pronunciation: "타이자이",
            meaning: "체류",
          },
          {
            word: "何日間",
            reading: "なんにちかん",
            pronunciation: "난니치캉",
            meaning: "며칠간",
          },
          {
            word: "五日間",
            reading: "いつかかん",
            pronunciation: "이츠카캉",
            meaning: "5일간",
          },
        ],
      },
      choices: [
        {
          id: "step3_ok",
          text: "えっと、五日です。",
          textKo: "음, 5일이요.",
          pronunciation: "엣토, 이츠카데스.",
          quality: "ok",
          damage: 5,
          feedback: "기간을 말했지만 '間(캉)'을 붙이면 더 자연스러워요.",
          npcEmotion: "neutral",
          nextStepId: "step4",
        },
        {
          id: "step3_bad",
          text: "わかりません。",
          textKo: "모르겠어요.",
          pronunciation: "와카리마셍.",
          quality: "bad",
          damage: 20,
          feedback: "체류 기간을 모른다고 하면 심사관이 의심해요! 미리 정해두세요.",
          npcEmotion: "angry",
          nextStepId: "step3_recovery",
        },
        {
          id: "step3_best",
          text: "五日間です。",
          textKo: "5일간입니다.",
          pronunciation: "이츠카캉데스.",
          quality: "best",
          damage: 0,
          feedback: "완벽해요! '五日間'으로 정확하게 체류 기간을 전달했습니다.",
          npcEmotion: "neutral",
          nextStepId: "step4",
        },
      ],
    },

    // ── Step 3 Recovery ──────────────────────────────────
    {
      id: "step3_recovery",
      npcLine: "何日ですか？一週間？五日？何日間、日本にいますか？",
      npcLineKo: "며칠입니까? 1주일? 5일? 며칠간 일본에 있습니까?",
      npcLinePronunciation: "난니치데스카? 잇슈-캉? 이츠카? 난니치캉, 니혼니 이마스카?",
      npcEmotion: "angry",
      isMilestone: true,
      milestoneTag: "duration",
      education: {
        keyExpression: {
          pattern: "〜にいます",
          patternKo: "〜에 있습니다",
          explanation: "'にいます'는 '(장소)에 있다'라는 뜻의 정중한 표현입니다.",
          formality: "polite",
        },
        vocabulary: [
          {
            word: "一週間",
            reading: "いっしゅうかん",
            pronunciation: "잇슈-캉",
            meaning: "1주일",
          },
          {
            word: "日本",
            reading: "にほん",
            pronunciation: "니혼",
            meaning: "일본",
          },
        ],
      },
      choices: [
        {
          id: "step3r_best",
          text: "すみません、五日間です。",
          textKo: "죄송합니다, 5일간입니다.",
          pronunciation: "스미마셍, 이츠카캉데스.",
          quality: "best",
          damage: 0,
          feedback: "사과 후 명확히 대답해서 좋았어요!",
          npcEmotion: "neutral",
          nextStepId: "step4",
        },
        {
          id: "step3r_bad",
          text: "まだ決めていません。",
          textKo: "아직 정하지 않았어요.",
          pronunciation: "마다 키메테 이마셍.",
          quality: "bad",
          damage: 20,
          feedback: "체류 기간을 정하지 않았다니 심사관이 매우 의심스러워해요! 항상 미리 준비하세요.",
          npcEmotion: "angry",
          nextStepId: "step4",
        },
        {
          id: "step3r_ok",
          text: "五日間、います。",
          textKo: "5일간, 있어요.",
          pronunciation: "이츠카캉, 이마스.",
          quality: "ok",
          damage: 5,
          feedback: "기간을 전달했어요. 문장이 약간 어색하지만 의미는 통했습니다.",
          npcEmotion: "neutral",
          nextStepId: "step4",
        },
      ],
    },

    // ── Step 4: 滞在先 ────────────────────────────────────
    {
      id: "step4",
      npcLine: "どちらに滞在されますか？",
      npcLineKo: "어디에 체류하십니까?",
      npcLinePronunciation: "도치라니 타이자이 사레마스카?",
      npcEmotion: "neutral",
      isMilestone: true,
      milestoneTag: "location",
      education: {
        keyExpression: {
          pattern: "どちらに〜されますか",
          patternKo: "어디에 〜하십니까",
          explanation: "'どちら'는 'どこ'의 높임말입니다. 공식적인 장소에서 자주 쓰여요.",
          formality: "formal",
        },
        vocabulary: [
          {
            word: "どちら",
            reading: "どちら",
            pronunciation: "도치라",
            meaning: "어디, 어느 쪽 (높임말)",
          },
          {
            word: "ホテル",
            reading: "ホテル",
            pronunciation: "호테루",
            meaning: "호텔",
          },
          {
            word: "泊まる",
            reading: "とまる",
            pronunciation: "토마루",
            meaning: "묵다, 숙박하다",
          },
        ],
      },
      choices: [
        {
          id: "step4_best",
          text: "新宿のホテルに泊まります。",
          textKo: "신주쿠 호텔에 묵습니다.",
          pronunciation: "신주쿠노 호테루니 토마리마스.",
          quality: "best",
          damage: 0,
          feedback: "완벽해요! 구체적인 장소와 자연스러운 문장으로 대답했습니다.",
          npcEmotion: "neutral",
          nextStepId: "step5",
        },
        {
          id: "step4_bad",
          text: "…まだわかりません。",
          textKo: "…아직 모르겠어요.",
          pronunciation: "…마다 와카리마셍.",
          quality: "bad",
          damage: 15,
          feedback: "숙소가 정해지지 않으면 심사관이 의심해요! 호텔 이름을 미리 준비하세요.",
          npcEmotion: "angry",
          nextStepId: "step4_recovery",
        },
        {
          id: "step4_ok",
          text: "ホテルです。東京の。",
          textKo: "호텔이요. 도쿄의.",
          pronunciation: "호테루데스. 토-쿄-노.",
          quality: "ok",
          damage: 10,
          feedback: "호텔이라고 했지만, 구체적인 지역까지 말하면 더 좋아요.",
          npcEmotion: "neutral",
          nextStepId: "step5",
        },
      ],
    },

    // ── Step 4 Recovery ──────────────────────────────────
    {
      id: "step4_recovery",
      npcLine: "ホテルの名前か住所を教えてください。",
      npcLineKo: "호텔 이름이나 주소를 알려주세요.",
      npcLinePronunciation: "호테루노 나마에카 쥬-쇼오 오시에테 쿠다사이.",
      npcEmotion: "angry",
      isMilestone: true,
      milestoneTag: "location",
      education: {
        keyExpression: {
          pattern: "〜か〜を教えてください",
          patternKo: "〜이나 〜을 알려주세요",
          explanation: "'か'는 '또는'의 의미로, 두 가지 중 하나를 선택해서 답해달라는 뜻이에요.",
          formality: "polite",
        },
        vocabulary: [
          {
            word: "名前",
            reading: "なまえ",
            pronunciation: "나마에",
            meaning: "이름",
          },
          {
            word: "住所",
            reading: "じゅうしょ",
            pronunciation: "쥬-쇼",
            meaning: "주소",
          },
        ],
      },
      choices: [
        {
          id: "step4r_ok",
          text: "あ、新宿のホテルです。",
          textKo: "아, 신주쿠 호텔이요.",
          pronunciation: "아, 신주쿠노 호테루데스.",
          quality: "ok",
          damage: 5,
          feedback: "호텔 이름은 아니지만 지역을 말해서 어느 정도 전달됐어요.",
          npcEmotion: "neutral",
          nextStepId: "step5",
        },
        {
          id: "step4r_best",
          text: "すみません、新宿ワシントンホテルです。",
          textKo: "죄송합니다, 신주쿠 워싱턴 호텔입니다.",
          pronunciation: "스미마셍, 신주쿠 와싱톤 호테루데스.",
          quality: "best",
          damage: 0,
          feedback: "구체적인 호텔 이름까지 말해서 심사관이 안심했어요!",
          npcEmotion: "neutral",
          nextStepId: "step5",
        },
        {
          id: "step4r_bad",
          text: "友達の家です。",
          textKo: "친구 집이요.",
          pronunciation: "토모다치노 이에데스.",
          quality: "bad",
          damage: 15,
          feedback: "갑자기 친구 집이라고 하면 더 많은 질문을 받을 수 있어요. 일관되게 대답하세요!",
          npcEmotion: "confused",
          nextStepId: "step5",
        },
      ],
    },

    // ── Step 5: 帰りのチケット ────────────────────────────
    {
      id: "step5",
      npcLine: "帰りの航空券はお持ちですか？",
      npcLineKo: "돌아가는 항공권은 가지고 계십니까?",
      npcLinePronunciation: "카에리노 코-쿠-켕와 오모치데스카?",
      npcEmotion: "neutral",
      education: {
        keyExpression: {
          pattern: "〜はお持ちですか",
          patternKo: "〜은/는 가지고 계십니까",
          explanation: "'お持ちですか'는 '持っていますか'의 높임 표현입니다. 공식적인 상황에서 사용해요.",
          formality: "formal",
        },
        vocabulary: [
          {
            word: "帰り",
            reading: "かえり",
            pronunciation: "카에리",
            meaning: "돌아감, 귀국",
          },
          {
            word: "航空券",
            reading: "こうくうけん",
            pronunciation: "코-쿠-켕",
            meaning: "항공권",
          },
          {
            word: "持つ",
            reading: "もつ",
            pronunciation: "모츠",
            meaning: "가지다",
          },
        ],
      },
      choices: [
        {
          id: "step5_best",
          text: "はい、持っています。こちらです。",
          textKo: "네, 가지고 있습니다. 여기 있습니다.",
          pronunciation: "하이, 못테이마스. 코치라데스.",
          quality: "best",
          damage: 0,
          feedback: "완벽해요! 돌아가는 티켓을 바로 보여줬습니다.",
          npcEmotion: "neutral",
          nextStepId: "step6",
        },
        {
          id: "step5_ok",
          text: "はい、あります。",
          textKo: "네, 있어요.",
          pronunciation: "하이, 아리마스.",
          quality: "ok",
          damage: 5,
          feedback: "있다고는 했지만, 보여주면 더 확실해요. '持っています(못테이마스)'를 쓰면 더 자연스럽습니다.",
          npcEmotion: "neutral",
          nextStepId: "step6",
        },
        {
          id: "step5_bad",
          text: "いいえ、まだ買っていません。",
          textKo: "아니요, 아직 사지 않았어요.",
          pronunciation: "이-에, 마다 캇테이마셍.",
          quality: "bad",
          damage: 20,
          feedback: "돌아가는 티켓이 없으면 입국이 거부될 수도 있어요! 미리 준비하세요.",
          npcEmotion: "angry",
          nextStepId: "step6",
        },
      ],
    },

    // ── Step 6: 所持金 ────────────────────────────────────
    {
      id: "step6",
      npcLine: "滞在中の費用は十分にお持ちですか？",
      npcLineKo: "체류 중 비용은 충분히 가지고 계십니까?",
      npcLinePronunciation: "타이자이츄-노 히요-와 쥬-분니 오모치데스카?",
      npcEmotion: "neutral",
      education: {
        keyExpression: {
          pattern: "十分に〜",
          patternKo: "충분히 〜",
          explanation: "'十分(쥬-분)'은 '충분히'라는 뜻으로, 양이나 정도가 충분한지 확인할 때 쓰입니다.",
          formality: "formal",
        },
        vocabulary: [
          {
            word: "費用",
            reading: "ひよう",
            pronunciation: "히요-",
            meaning: "비용",
          },
          {
            word: "十分",
            reading: "じゅうぶん",
            pronunciation: "쥬-분",
            meaning: "충분히",
          },
          {
            word: "滞在中",
            reading: "たいざいちゅう",
            pronunciation: "타이자이츄-",
            meaning: "체류 중",
          },
        ],
      },
      choices: [
        {
          id: "step6_ok",
          text: "はい、大丈夫です。",
          textKo: "네, 괜찮습니다.",
          pronunciation: "하이, 다이죠-부데스.",
          quality: "ok",
          damage: 5,
          feedback: "괜찮다고 했지만, 좀 더 구체적으로 답하면 신뢰감을 줄 수 있어요.",
          npcEmotion: "neutral",
          nextStepId: "step7",
        },
        {
          id: "step6_bad",
          text: "あまりお金がありません。",
          textKo: "돈이 별로 없어요.",
          pronunciation: "아마리 오카네가 아리마셍.",
          quality: "bad",
          damage: 15,
          feedback: "돈이 부족하다고 하면 입국이 어려울 수 있어요! 충분하다고 대답하세요.",
          npcEmotion: "angry",
          nextStepId: "step7",
        },
        {
          id: "step6_best",
          text: "はい、十分に持っています。",
          textKo: "네, 충분히 가지고 있습니다.",
          pronunciation: "하이, 쥬-분니 못테이마스.",
          quality: "best",
          damage: 0,
          feedback: "심사관의 질문 표현을 그대로 활용해서 자연스럽게 대답했어요!",
          npcEmotion: "neutral",
          nextStepId: "step7",
        },
      ],
    },

    // ── Step 7: 連絡先 ────────────────────────────────────
    {
      id: "step7",
      npcLine: "日本での連絡先はありますか？",
      npcLineKo: "일본에서의 연락처가 있습니까?",
      npcLinePronunciation: "니혼데노 렌라쿠사키와 아리마스카?",
      npcEmotion: "neutral",
      education: {
        keyExpression: {
          pattern: "〜での連絡先",
          patternKo: "〜에서의 연락처",
          explanation: "'での'는 '에서의'라는 뜻으로, 장소를 한정하는 표현입니다.",
          formality: "formal",
        },
        vocabulary: [
          {
            word: "連絡先",
            reading: "れんらくさき",
            pronunciation: "렌라쿠사키",
            meaning: "연락처",
          },
          {
            word: "電話番号",
            reading: "でんわばんごう",
            pronunciation: "덴와방고-",
            meaning: "전화번호",
          },
        ],
      },
      choices: [
        {
          id: "step7_bad",
          text: "いいえ、ありません。",
          textKo: "아니요, 없어요.",
          pronunciation: "이-에, 아리마셍.",
          quality: "bad",
          damage: 15,
          feedback: "연락처가 없으면 불안해할 수 있어요. 호텔 전화번호라도 알려주세요!",
          npcEmotion: "confused",
          nextStepId: "step8",
        },
        {
          id: "step7_best",
          text: "はい、ホテルの電話番号があります。",
          textKo: "네, 호텔 전화번호가 있습니다.",
          pronunciation: "하이, 호테루노 덴와방고-가 아리마스.",
          quality: "best",
          damage: 0,
          feedback: "호텔 전화번호를 미리 준비해서 말하다니 완벽해요!",
          npcEmotion: "neutral",
          nextStepId: "step8",
        },
        {
          id: "step7_ok",
          text: "ホテルに聞いてください。",
          textKo: "호텔에 물어봐 주세요.",
          pronunciation: "호테루니 키이테 쿠다사이.",
          quality: "ok",
          damage: 10,
          feedback: "호텔에 물어보라는 건 약간 무례할 수 있어요. 직접 번호를 알려주면 더 좋아요.",
          npcEmotion: "neutral",
          nextStepId: "step8",
        },
      ],
    },

    // ── Step 8: 入国カード確認 ────────────────────────────
    {
      id: "step8",
      npcLine: "入国カードは書きましたか？",
      npcLineKo: "입국카드는 작성하셨습니까?",
      npcLinePronunciation: "뉴-코쿠 카-도와 카키마시타카?",
      npcEmotion: "neutral",
      education: {
        keyExpression: {
          pattern: "〜は書きましたか",
          patternKo: "〜은/는 작성하셨습니까",
          explanation: "'書く(카쿠)'의 과거형 '書きました(카키마시타)'를 사용한 확인 질문입니다.",
          formality: "polite",
        },
        vocabulary: [
          {
            word: "入国カード",
            reading: "にゅうこくカード",
            pronunciation: "뉴-코쿠 카-도",
            meaning: "입국카드",
          },
          {
            word: "書く",
            reading: "かく",
            pronunciation: "카쿠",
            meaning: "쓰다, 작성하다",
          },
        ],
      },
      choices: [
        {
          id: "step8_best",
          text: "はい、書きました。どうぞ。",
          textKo: "네, 작성했습니다. 여기요.",
          pronunciation: "하이, 카키마시타. 도-조.",
          quality: "best",
          damage: 0,
          feedback: "입국카드를 미리 작성해두고 바로 제출했어요! 준비성이 좋습니다.",
          npcEmotion: "neutral",
          nextStepId: "step9",
        },
        {
          id: "step8_ok",
          text: "はい。これでいいですか？",
          textKo: "네. 이걸로 괜찮나요?",
          pronunciation: "하이. 코레데 이-데스카?",
          quality: "ok",
          damage: 5,
          feedback: "제출은 했지만 확인을 구하는 모습이 약간 불안해 보여요. 자신감을 가지세요!",
          npcEmotion: "neutral",
          nextStepId: "step9",
        },
        {
          id: "step8_bad",
          text: "すみません、まだ書いていません。",
          textKo: "죄송합니다, 아직 작성하지 않았어요.",
          pronunciation: "스미마셍, 마다 카이테이마셍.",
          quality: "bad",
          damage: 15,
          feedback: "비행기에서 미리 작성해야 해요! 줄을 서기 전에 꼭 준비하세요.",
          npcEmotion: "angry",
          nextStepId: "step9",
        },
      ],
    },

    // ── Step 9: 指紋・写真 ────────────────────────────────
    {
      id: "step9",
      npcLine: "では、指紋と写真を撮らせていただきます。こちらに指を置いてください。",
      npcLineKo: "그럼, 지문과 사진을 찍겠습니다. 이쪽에 손가락을 올려주세요.",
      npcLinePronunciation: "데와, 시몬토 샤싱오 토라세테 이타다키마스. 코치라니 유비오 오이테 쿠다사이.",
      npcEmotion: "neutral",
      education: {
        keyExpression: {
          pattern: "〜を置いてください",
          patternKo: "〜을/를 올려주세요 / 놓아주세요",
          explanation: "'置く(오쿠)'는 '놓다, 올리다'라는 뜻입니다. 지시에 따라 행동하면 됩니다.",
          formality: "polite",
        },
        vocabulary: [
          {
            word: "指紋",
            reading: "しもん",
            pronunciation: "시몬",
            meaning: "지문",
          },
          {
            word: "写真",
            reading: "しゃしん",
            pronunciation: "샤싱",
            meaning: "사진",
          },
          {
            word: "指",
            reading: "ゆび",
            pronunciation: "유비",
            meaning: "손가락",
          },
        ],
      },
      choices: [
        {
          id: "step9_ok",
          text: "あ、はい。こうですか？",
          textKo: "아, 네. 이렇게요?",
          pronunciation: "아, 하이. 코-데스카?",
          quality: "ok",
          damage: 5,
          feedback: "따라하고는 있지만 확인을 구하는 모습이에요. 자연스럽게 따르면 돼요.",
          npcEmotion: "neutral",
          nextStepId: "step10",
        },
        {
          id: "step9_best",
          text: "はい、わかりました。",
          textKo: "네, 알겠습니다.",
          pronunciation: "하이, 와카리마시타.",
          quality: "best",
          damage: 0,
          feedback: "'わかりました'는 지시를 이해했다는 표현으로 매우 적절해요!",
          npcEmotion: "neutral",
          nextStepId: "step10",
        },
        {
          id: "step9_bad",
          text: "どうしてですか？",
          textKo: "왜 그런 거예요?",
          pronunciation: "도-시테데스카?",
          quality: "bad",
          damage: 15,
          feedback: "지문과 사진 촬영은 일본 입국 시 필수 절차예요. 이유를 묻기보다 순순히 따르세요.",
          npcEmotion: "angry",
          nextStepId: "step10",
        },
      ],
    },

    // ── Step 10: 最終確認・スタンプ ───────────────────────
    {
      id: "step10",
      npcLine: "はい、結構です。スタンプを押しますね。…日本での滞在を楽しんでください。",
      npcLineKo: "네, 됐습니다. 도장을 찍겠습니다. …일본에서의 체류를 즐겨주세요.",
      npcLinePronunciation: "하이, 켓코-데스. 스탬프오 오시마스네. …니혼데노 타이자이오 타노신데 쿠다사이.",
      npcEmotion: "neutral",
      education: {
        keyExpression: {
          pattern: "〜を楽しんでください",
          patternKo: "〜을/를 즐겨주세요",
          explanation: "'楽しむ(타노시무)'는 '즐기다'라는 뜻입니다. 따뜻한 마무리 인사예요.",
          formality: "polite",
        },
        vocabulary: [
          {
            word: "結構",
            reading: "けっこう",
            pronunciation: "켓코-",
            meaning: "됐습니다, 충분합니다",
          },
          {
            word: "楽しむ",
            reading: "たのしむ",
            pronunciation: "타노시무",
            meaning: "즐기다",
          },
          {
            word: "スタンプ",
            reading: "スタンプ",
            pronunciation: "스탬프",
            meaning: "도장, 스탬프",
          },
        ],
      },
      choices: [
        {
          id: "step10_bad",
          text: "はい。",
          textKo: "네.",
          pronunciation: "하이.",
          quality: "bad",
          damage: 10,
          feedback: "너무 짧아요! 감사 인사를 하면 좋은 인상을 남길 수 있어요.",
          npcEmotion: "neutral",
          nextStepId: "END",
        },
        {
          id: "step10_best",
          text: "ありがとうございます。楽しみます！",
          textKo: "감사합니다. 즐기겠습니다!",
          pronunciation: "아리가또 고자이마스. 타노시미마스!",
          quality: "best",
          damage: 0,
          feedback: "감사 인사와 함께 즐기겠다는 말까지! 완벽한 마무리입니다.",
          npcEmotion: "happy",
          nextStepId: "END",
        },
        {
          id: "step10_ok",
          text: "ありがとうございます。",
          textKo: "감사합니다.",
          pronunciation: "아리가또 고자이마스.",
          quality: "ok",
          damage: 0,
          feedback: "감사 인사를 잘 했어요! '楽しみます(타노시미마스)'까지 붙이면 더 좋아요.",
          npcEmotion: "happy",
          nextStepId: "END",
        },
      ],
    },
  ],
};
