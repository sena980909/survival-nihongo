// 각 시나리오의 대화 흐름 (OpenAI API 없이 로컬에서 동작)

export interface ConversationChoice {
  text: string;
  textKo: string;
  textPronunciation: string;
  quality: "best" | "acceptable" | "poor";
  correction: {
    wasCorrect: boolean;
    explanation: string;
    betterExpression?: string;
    betterExpressionKo?: string;
    betterExpressionPronunciation?: string;
    grammarPoint?: string;
  };
}

export interface KanjiNoteData {
  kanji: string;
  reading: string;
  pronunciation: string;
  meaning: string;
  explanation: string;
}

export interface ConversationNode {
  id: string;
  npcMessage: string;
  npcMessageKo: string;
  npcMessagePronunciation: string;
  npcEmotion: "neutral" | "happy" | "confused" | "encouraging";
  choices: ConversationChoice[];
  kanjiNote?: KanjiNoteData;
  isLast?: boolean;
}

export type ConversationFlow = ConversationNode[];

// ===== 입국심사 =====
const airportImmigration: ConversationFlow = [
  {
    id: "imm-1",
    npcMessage: "パスポートを見せてください。",
    npcMessageKo: "여권을 보여주세요.",
    npcMessagePronunciation: "파스포-토오 미세테쿠다사이",
    npcEmotion: "neutral",
    choices: [
      {
        text: "はい、こちらです。",
        textKo: "네, 여기 있습니다.",
        textPronunciation: "하이, 코치라데스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "아주 좋아요! 'こちらです'는 공손하게 물건을 건넬 때 사용하는 표현입니다.",
          grammarPoint: "'こちら'는 'これ(이것)'의 정중한 표현이에요.",
        },
      },
      {
        text: "うん、これ。",
        textKo: "응, 이거.",
        textPronunciation: "웅, 코레",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'うん'은 친구 사이에서 쓰는 반말이에요. 공식적인 상황에서는 'はい'를 사용해야 합니다.",
          betterExpression: "はい、こちらです。",
          betterExpressionKo: "네, 여기 있습니다.",
          betterExpressionPronunciation: "하이, 코치라데스",
          grammarPoint: "공식적인 장소에서는 'うん' 대신 'はい'를 사용하세요.",
        },
      },
      {
        text: "はい、どうぞ。",
        textKo: "네, 여기요.",
        textPronunciation: "하이, 도-조",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "괜찮은 표현이에요! 'どうぞ'는 '여기요, 받으세요'라는 뜻입니다. 'こちらです'가 더 자연스러워요.",
          betterExpression: "はい、こちらです。",
          betterExpressionKo: "네, 여기 있습니다.",
          betterExpressionPronunciation: "하이, 코치라데스",
          grammarPoint: "'どうぞ'는 무언가를 권할 때 쓰는 표현이에요.",
        },
      },
    ],
  },
  {
    id: "imm-2",
    npcMessage: "旅行の目的は何ですか？",
    npcMessageKo: "여행의 목적은 무엇인가요?",
    npcMessagePronunciation: "료코-노 모쿠테키와 난데스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "観光です。",
        textKo: "관광입니다.",
        textPronunciation: "캉코-데스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '観光です'는 입국심사에서 관광 목적을 밝히는 정석 표현입니다.",
          grammarPoint: "'〇〇です'는 '〇〇입니다'라는 정중한 서술 표현이에요.",
        },
      },
      {
        text: "遊びに来ました。",
        textKo: "놀러 왔습니다.",
        textPronunciation: "아소비니 키마시타",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "의미는 통하지만, 입국심사에서는 '観光です'가 더 공식적이고 자연스러워요.",
          betterExpression: "観光です。",
          betterExpressionKo: "관광입니다.",
          betterExpressionPronunciation: "캉코-데스",
          grammarPoint: "'遊びに来ました'는 친구에게 쓰는 캐주얼한 표현이에요.",
        },
      },
      {
        text: "ただ来ました。",
        textKo: "그냥 왔습니다.",
        textPronunciation: "타다 키마시타",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'그냥 왔습니다'는 입국심사에서 적절하지 않아요. 목적을 명확히 말해야 합니다.",
          betterExpression: "観光です。",
          betterExpressionKo: "관광입니다.",
          betterExpressionPronunciation: "캉코-데스",
          grammarPoint: "입국심사에서는 목적을 명확히 '観光(관광)', '仕事(일)', '留学(유학)' 등으로 답해야 해요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "観光",
      reading: "かんこう",
      pronunciation: "캉코-",
      meaning: "관광",
      explanation: "観(볼 관) + 光(빛 광) — 경치를 보고 즐기는 여행",
    },
  },
  {
    id: "imm-3",
    npcMessage: "何日間滞在しますか？",
    npcMessageKo: "며칠간 체류합니까?",
    npcMessagePronunciation: "난니치캉 타이자이시마스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "五日間です。",
        textKo: "5일간입니다.",
        textPronunciation: "이츠카캉데스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "정확해요! '五日間(いつかかん)'은 5일간이라는 뜻입니다.",
          grammarPoint: "일본어 날짜 세기: 1日(이치니치), 2日(후츠카), 3日(밋카), 4日(욧카), 5日(이츠카)",
        },
      },
      {
        text: "五日。",
        textKo: "5일.",
        textPronunciation: "이츠카",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "통하긴 하지만, '〜間です'를 붙이면 더 정중하고 자연스러워요.",
          betterExpression: "五日間です。",
          betterExpressionKo: "5일간입니다.",
          betterExpressionPronunciation: "이츠카캉데스",
          grammarPoint: "'〜間(캉)'은 '〜동안'이라는 기간을 나타내는 표현이에요.",
        },
      },
      {
        text: "わかりません。",
        textKo: "모르겠습니다.",
        textPronunciation: "와카리마셍",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "입국심사에서 체류 기간을 모른다고 하면 의심받을 수 있어요! 미리 준비해두세요.",
          betterExpression: "五日間です。",
          betterExpressionKo: "5일간입니다.",
          betterExpressionPronunciation: "이츠카캉데스",
          grammarPoint: "체류 기간은 반드시 미리 정해두고 답할 수 있어야 해요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "滞在",
      reading: "たいざい",
      pronunciation: "타이자이",
      meaning: "체류",
      explanation: "滞(머무를 체) + 在(있을 재) — 일정 기간 머무는 것",
    },
  },
  {
    id: "imm-4",
    npcMessage: "どこに泊まりますか？",
    npcMessageKo: "어디에 묵으시나요?",
    npcMessagePronunciation: "도코니 토마리마스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "新宿のホテルに泊まります。",
        textKo: "신주쿠 호텔에 묵습니다.",
        textPronunciation: "신주쿠노 호테루니 토마리마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 장소 + 'に泊まります'는 숙소를 알려주는 정확한 표현입니다.",
          grammarPoint: "'〇〇に泊まります'는 '〇〇에 묵습니다'라는 뜻이에요. 'に'는 장소를 나타내는 조사입니다.",
        },
      },
      {
        text: "ホテルです。",
        textKo: "호텔입니다.",
        textPronunciation: "호테루데스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "통하지만, 구체적인 지역명을 넣으면 더 좋아요.",
          betterExpression: "新宿のホテルに泊まります。",
          betterExpressionKo: "신주쿠 호텔에 묵습니다.",
          betterExpressionPronunciation: "신주쿠노 호테루니 토마리마스",
          grammarPoint: "입국심사에서는 구체적인 숙소 이름이나 지역을 말하면 원활해요.",
        },
      },
      {
        text: "まだ決めていません。",
        textKo: "아직 정하지 않았습니다.",
        textPronunciation: "마다 키메테이마셍",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "숙소가 정해지지 않았다고 하면 심사관이 의심할 수 있어요. 미리 숙소를 준비해두세요!",
          betterExpression: "新宿のホテルに泊まります。",
          betterExpressionKo: "신주쿠 호텔에 묵습니다.",
          betterExpressionPronunciation: "신주쿠노 호테루니 토마리마스",
          grammarPoint: "'泊まる(토마루)'는 '묵다/숙박하다'라는 뜻이에요.",
        },
      },
    ],
  },
  {
    id: "imm-5",
    npcMessage: "はい、問題ありません。日本を楽しんでください。",
    npcMessageKo: "네, 문제없습니다. 일본을 즐겨주세요.",
    npcMessagePronunciation: "하이, 몬다이 아리마셍. 니혼오 타노신데쿠다사이.",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "ありがとうございます。",
        textKo: "감사합니다.",
        textPronunciation: "아리가또고자이마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 'ありがとうございます'는 가장 정중한 감사 인사입니다.",
          grammarPoint: "'ありがとう'만 쓰면 반말, 'ございます'를 붙이면 존댓말이에요.",
        },
      },
      {
        text: "はい、ありがとう。",
        textKo: "네, 고마워요.",
        textPronunciation: "하이, 아리가또",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "괜찮지만, 공식적인 자리에서는 'ございます'를 붙이는 게 더 예의 바릅니다.",
          betterExpression: "ありがとうございます。",
          betterExpressionKo: "감사합니다.",
          betterExpressionPronunciation: "아리가또고자이마스",
          grammarPoint: "'ありがとう'는 반말, 'ありがとうございます'는 존댓말이에요.",
        },
      },
      {
        text: "うん。",
        textKo: "응.",
        textPronunciation: "웅",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'うん'만 하면 무례하게 느껴져요. 감사 인사를 전하는 것이 예의입니다.",
          betterExpression: "ありがとうございます。",
          betterExpressionKo: "감사합니다.",
          betterExpressionPronunciation: "아리가또고자이마스",
          grammarPoint: "도움을 받으면 반드시 감사 인사를 해요. 일본에서는 예의가 매우 중요합니다!",
        },
      },
    ],
  },
];

// ===== 편의점 =====
const convenienceStore: ConversationFlow = [
  {
    id: "conv-1",
    npcMessage: "いらっしゃいませ！",
    npcMessageKo: "어서 오세요!",
    npcMessagePronunciation: "이랏샤이마세!",
    npcEmotion: "happy",
    choices: [
      {
        text: "すみません、このお弁当をお願いします。",
        textKo: "실례합니다, 이 도시락 부탁합니다.",
        textPronunciation: "스미마셍, 코노 오벤또-오 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "아주 자연스러워요! 'お願いします'를 붙이면 정중한 요청이 됩니다.",
          grammarPoint: "'すみません'은 '실례합니다/저기요'라는 뜻으로 말을 걸 때 사용해요.",
        },
      },
      {
        text: "これ。",
        textKo: "이거.",
        textPronunciation: "코레",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'これ'만 하면 너무 무뚝뚝해요. 'お願いします'를 붙여야 합니다.",
          betterExpression: "これ、お願いします。",
          betterExpressionKo: "이거 부탁합니다.",
          betterExpressionPronunciation: "코레, 오네가이시마스",
          grammarPoint: "가게에서 물건을 살 때는 'お願いします(부탁합니다)'를 붙이세요.",
        },
      },
      {
        text: "このお弁当をください。",
        textKo: "이 도시락을 주세요.",
        textPronunciation: "코노 오벤또-오 쿠다사이",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 'ください'도 괜찮지만, 'お願いします'가 더 부드러운 느낌이에요.",
          betterExpression: "このお弁当をお願いします。",
          betterExpressionKo: "이 도시락 부탁합니다.",
          betterExpressionPronunciation: "코노 오벤또-오 오네가이시마스",
          grammarPoint: "'ください'는 '주세요', 'お願いします'는 '부탁합니다' — 둘 다 정중하지만 뉘앙스가 달라요.",
        },
      },
    ],
  },
  {
    id: "conv-2",
    npcMessage: "温めますか？",
    npcMessageKo: "데울까요?",
    npcMessagePronunciation: "아타타메마스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "はい、お願いします。",
        textKo: "네, 부탁합니다.",
        textPronunciation: "하이, 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 편의점에서 도시락을 데워달라고 할 때 가장 자연스러운 표현이에요.",
          grammarPoint: "'はい、お願いします'는 어떤 서비스를 요청할 때 만능으로 쓸 수 있는 표현이에요.",
        },
      },
      {
        text: "温めてください。",
        textKo: "데워주세요.",
        textPronunciation: "아타타메테쿠다사이",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "의미는 통하지만, 점원이 먼저 물어봤으니 'はい、お願いします'가 더 자연스러워요.",
          betterExpression: "はい、お願いします。",
          betterExpressionKo: "네, 부탁합니다.",
          betterExpressionPronunciation: "하이, 오네가이시마스",
          grammarPoint: "상대방이 먼저 물어봤을 때는 간단히 'はい/いいえ'로 대답하는 게 자연스러워요.",
        },
      },
      {
        text: "何ですか？",
        textKo: "뭐라고요?",
        textPronunciation: "난데스카?",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'温めますか？'는 '데울까요?'라는 뜻이에요. 편의점에서 자주 듣는 표현이니 기억해두세요!",
          betterExpression: "はい、お願いします。",
          betterExpressionKo: "네, 부탁합니다.",
          betterExpressionPronunciation: "하이, 오네가이시마스",
          grammarPoint: "'温める(아타타메루)'는 '데우다'라는 뜻이에요. 편의점 필수 표현!",
        },
      },
    ],
    kanjiNote: {
      kanji: "温める",
      reading: "あたためる",
      pronunciation: "아타타메루",
      meaning: "데우다",
      explanation: "温(따뜻할 온) — 전자레인지로 음식을 데울 때 사용",
    },
  },
  {
    id: "conv-3",
    npcMessage: "袋はご利用ですか？有料になりますが。",
    npcMessageKo: "봉투 사용하시겠어요? 유료입니다만.",
    npcMessagePronunciation: "후쿠로와 고리요-데스카? 유-료-니 나리마스가.",
    npcEmotion: "neutral",
    choices: [
      {
        text: "いいえ、大丈夫です。",
        textKo: "아니요, 괜찮습니다.",
        textPronunciation: "이-에, 다이죠-부데스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! '大丈夫です'는 거절할 때 부드럽게 쓸 수 있는 만능 표현이에요.",
          grammarPoint: "'大丈夫です(다이죠-부데스)'는 '괜찮습니다'라는 뜻으로, 부드러운 거절에 자주 사용해요.",
        },
      },
      {
        text: "袋をお願いします。",
        textKo: "봉투 부탁합니다.",
        textPronunciation: "후쿠로오 오네가이시마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "봉투가 필요하면 이렇게 말하면 돼요! 자연스러운 표현입니다.",
          grammarPoint: "'袋(후쿠로)'는 '봉투'라는 뜻이에요. 일본 편의점은 봉투가 유료(3~5엔)예요.",
        },
      },
      {
        text: "いらない。",
        textKo: "필요 없어.",
        textPronunciation: "이라나이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'いらない'는 반말이에요. 가게에서는 'いらないです' 또는 '大丈夫です'를 사용하세요.",
          betterExpression: "いいえ、大丈夫です。",
          betterExpressionKo: "아니요, 괜찮습니다.",
          betterExpressionPronunciation: "이-에, 다이죠-부데스",
          grammarPoint: "'いらない'에 'です'를 붙이면 정중한 거절이 됩니다.",
        },
      },
    ],
    kanjiNote: {
      kanji: "袋",
      reading: "ふくろ",
      pronunciation: "후쿠로",
      meaning: "봉투",
      explanation: "일본 편의점에서는 2020년부터 비닐봉투가 유료화되었어요 (약 3~5엔)",
    },
  },
  {
    id: "conv-4",
    npcMessage: "お支払いはどうなさいますか？",
    npcMessageKo: "결제는 어떻게 하시겠어요?",
    npcMessagePronunciation: "오시하라이와 도-나사이마스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "カードでお願いします。",
        textKo: "카드로 부탁합니다.",
        textPronunciation: "카-도데 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 결제 수단을 말할 때 '〇〇でお願いします'가 정석이에요.",
          grammarPoint: "'で'는 수단/방법을 나타내는 조사예요. '카드로', '현금으로' 등.",
        },
      },
      {
        text: "現金で。",
        textKo: "현금으로.",
        textPronunciation: "겡킹데",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "통하지만, 'お願いします'를 붙이면 더 정중해요.",
          betterExpression: "現金でお願いします。",
          betterExpressionKo: "현금으로 부탁합니다.",
          betterExpressionPronunciation: "겡킹데 오네가이시마스",
          grammarPoint: "'現金(겡킹)'은 '현금'이라는 뜻이에요.",
        },
      },
      {
        text: "えっと... お金...?",
        textKo: "음... 돈...?",
        textPronunciation: "엣또... 오카네...?",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "결제 수단을 명확히 말해야 해요. 'カード(카드)', '現金(현금)', '〇〇ペイ(페이)' 중 선택!",
          betterExpression: "カードでお願いします。",
          betterExpressionKo: "카드로 부탁합니다.",
          betterExpressionPronunciation: "카-도데 오네가이시마스",
          grammarPoint: "일본 편의점 결제 수단: 現金(현금), カード(카드), 交通系IC(교통카드), 〇〇ペイ(QR결제)",
        },
      },
    ],
    kanjiNote: {
      kanji: "現金",
      reading: "げんきん",
      pronunciation: "겡킹",
      meaning: "현금",
      explanation: "現(나타날 현) + 金(돈 금) — 지폐와 동전을 의미",
    },
  },
  {
    id: "conv-5",
    npcMessage: "ありがとうございました！またお越しくださいませ。",
    npcMessageKo: "감사합니다! 또 오세요.",
    npcMessagePronunciation: "아리가또고자이마시타! 마타 오코시쿠다사이마세.",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "ありがとうございます。",
        textKo: "감사합니다.",
        textPronunciation: "아리가또고자이마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! 일본에서는 가게를 나갈 때도 감사 인사를 하는 것이 일반적이에요.",
          grammarPoint: "'ありがとうございます'는 현재형, 'ありがとうございました'는 과거형이에요. 둘 다 가능!",
        },
      },
      {
        text: "どうも。",
        textKo: "고마워요.",
        textPronunciation: "도-모",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "'どうも'는 가볍게 쓸 수 있는 감사 표현이에요. 편의점에서는 충분해요!",
          grammarPoint: "'どうも'는 'ありがとう'의 축약형이에요. 친근한 느낌!",
        },
      },
      {
        text: "...",
        textKo: "(아무 말 없이 나가기)",
        textPronunciation: "...",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "일본에서는 가게를 나갈 때 가벼운 인사를 하는 것이 예의예요.",
          betterExpression: "ありがとうございます。",
          betterExpressionKo: "감사합니다.",
          betterExpressionPronunciation: "아리가또고자이마스",
          grammarPoint: "가게에서 나올 때 짧게라도 'どうも' 정도는 말하는 것이 좋아요.",
        },
      },
    ],
  },
];

// ===== 이자카야 =====
const izakaya: ConversationFlow = [
  {
    id: "iza-1",
    npcMessage: "いらっしゃい！何名様ですか？",
    npcMessageKo: "어서 오세요! 몇 분이세요?",
    npcMessagePronunciation: "이랏샤이! 난메-사마데스카?",
    npcEmotion: "happy",
    choices: [
      {
        text: "二人です。",
        textKo: "두 명입니다.",
        textPronunciation: "후타리데스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '二人(ふたり)'는 두 사람을 셀 때 사용하는 표현이에요.",
          grammarPoint: "사람 세기: 一人(히토리/1명), 二人(후타리/2명), 三人(산닝/3명), 四人(요닝/4명)",
        },
      },
      {
        text: "二名です。",
        textKo: "2명입니다.",
        textPronunciation: "니메-데스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "'二名(にめい)'도 정확해요! 더 격식 있는 표현이에요. 이자카야에서는 '二人'가 더 자연스러워요.",
          grammarPoint: "'名(메-)'는 사람을 세는 격식 표현, '人(리/닝)'는 일반 표현이에요.",
        },
      },
      {
        text: "二つ。",
        textKo: "두 개.",
        textPronunciation: "후타츠",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'二つ(후타츠)'는 물건을 셀 때 쓰는 표현이에요. 사람은 '二人(후타리)'라고 해야 해요!",
          betterExpression: "二人です。",
          betterExpressionKo: "두 명입니다.",
          betterExpressionPronunciation: "후타리데스",
          grammarPoint: "사람은 '人(닝/리)', 물건은 'つ(츠)'로 세요. 완전히 다른 조수사에요!",
        },
      },
    ],
  },
  {
    id: "iza-2",
    npcMessage: "お飲み物はいかがですか？",
    npcMessageKo: "음료는 어떻게 하시겠어요?",
    npcMessagePronunciation: "오노미모노와 이카가데스카?",
    npcEmotion: "encouraging",
    choices: [
      {
        text: "生ビールを二つください。",
        textKo: "생맥주 두 잔 주세요.",
        textPronunciation: "나마비-루오 후타츠 쿠다사이",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 이자카야에서 생맥주 주문하기 성공이에요!",
          grammarPoint: "'生ビール(나마비-루)'는 '생맥주', 음료/물건은 'つ(츠)'로 세요.",
        },
      },
      {
        text: "ビールをお願いします。",
        textKo: "맥주 부탁합니다.",
        textPronunciation: "비-루오 오네가이시마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 하지만 수량을 말하면 더 정확해요. '生ビール'이라고 하면 생맥주를 받을 수 있어요.",
          betterExpression: "生ビールを二つください。",
          betterExpressionKo: "생맥주 두 잔 주세요.",
          betterExpressionPronunciation: "나마비-루오 후타츠 쿠다사이",
          grammarPoint: "수량 + ください: 一つ(히토츠/1개), 二つ(후타츠/2개), 三つ(밋츠/3개)",
        },
      },
      {
        text: "水。",
        textKo: "물.",
        textPronunciation: "미즈",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "물도 괜찮지만, 반말이에요! 'お水をください'로 정중하게 요청하세요.",
          betterExpression: "お水をください。",
          betterExpressionKo: "물 주세요.",
          betterExpressionPronunciation: "오미즈오 쿠다사이",
          grammarPoint: "'お水(오미즈)'는 '물'의 정중한 표현이에요. 'お'를 붙이면 정중해져요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "生ビール",
      reading: "なまビール",
      pronunciation: "나마비-루",
      meaning: "생맥주",
      explanation: "生(날 생) — '생(가공하지 않은)'이라는 의미. 생맥주는 일본 이자카야의 기본!",
    },
  },
  {
    id: "iza-3",
    npcMessage: "おすすめは焼き鳥と刺身ですよ！今日の刺身は新鮮で美味しいですよ。",
    npcMessageKo: "추천은 닭꼬치와 회에요! 오늘 회는 신선하고 맛있어요.",
    npcMessagePronunciation: "오스스메와 야키토리토 사시미데스요! 쿄-노 사시미와 신센데 오이시-데스요.",
    npcEmotion: "happy",
    choices: [
      {
        text: "じゃあ、焼き鳥と刺身をお願いします。",
        textKo: "그러면 닭꼬치와 회 부탁합니다.",
        textPronunciation: "쟈-, 야키토리토 사시미오 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! 'じゃあ'로 추천을 받아들이고, 주문까지 완벽해요.",
          grammarPoint: "'じゃあ(쟈-)'는 '그러면'이라는 뜻으로, 자연스러운 연결어예요.",
        },
      },
      {
        text: "おすすめは何ですか？",
        textKo: "추천은 뭐예요?",
        textPronunciation: "오스스메와 난데스카?",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "추천을 물어보는 좋은 표현이에요! 다만 이미 추천해줬으니 주문으로 넘어가면 좋겠어요.",
          grammarPoint: "'おすすめは何ですか'는 이자카야에서 가장 많이 쓰는 표현 중 하나에요!",
        },
      },
      {
        text: "いらない。",
        textKo: "필요 없어.",
        textPronunciation: "이라나이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "점원의 추천을 반말로 거절하면 실례예요. '結構です(켓코-데스)'를 사용하세요.",
          betterExpression: "結構です。他のメニューを見てもいいですか？",
          betterExpressionKo: "괜찮습니다. 다른 메뉴를 봐도 될까요?",
          betterExpressionPronunciation: "켓코-데스. 호카노 메뉴-오 미테모 이-데스카?",
          grammarPoint: "'結構です(켓코-데스)'는 정중한 거절 표현이에요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "焼き鳥",
      reading: "やきとり",
      pronunciation: "야키토리",
      meaning: "닭꼬치",
      explanation: "焼(구울 소) + 鳥(새 조) — 꼬치에 꿴 닭고기를 숯불에 구운 요리",
    },
  },
  {
    id: "iza-4",
    npcMessage: "かしこまりました！少々お待ちください。",
    npcMessageKo: "알겠습니다! 잠시만 기다려주세요.",
    npcMessagePronunciation: "카시코마리마시타! 쇼-쇼- 오마치쿠다사이.",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "はい、お願いします。",
        textKo: "네, 부탁합니다.",
        textPronunciation: "하이, 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! 주문 후 확인으로 완벽한 표현이에요.",
          grammarPoint: "'かしこまりました'는 '알겠습니다'의 매우 정중한 표현이에요. 가게 직원이 자주 사용해요.",
        },
      },
      {
        text: "ありがとうございます。",
        textKo: "감사합니다.",
        textPronunciation: "아리가또고자이마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "감사 인사도 좋아요! 'はい、お願いします'와 함께 쓰면 더 자연스러워요.",
          grammarPoint: "주문 후에는 'お願いします'로 확인하는 것이 가장 자연스러운 흐름이에요.",
        },
      },
      {
        text: "早くして。",
        textKo: "빨리 해줘.",
        textPronunciation: "하야쿠시테",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'早くして'는 '빨리 해'라는 반말이에요. 절대 가게에서 쓰면 안 됩니다!",
          betterExpression: "はい、お願いします。",
          betterExpressionKo: "네, 부탁합니다.",
          betterExpressionPronunciation: "하이, 오네가이시마스",
          grammarPoint: "일본에서 음식을 재촉하는 것은 매우 실례예요. 기다리는 것도 문화의 일부!",
        },
      },
    ],
  },
];

// ===== 길 묻기 =====
const askingDirections: ConversationFlow = [
  {
    id: "dir-1",
    npcMessage: "はい？",
    npcMessageKo: "네?",
    npcMessagePronunciation: "하이?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "すみません、スカイツリーはどこですか？",
        textKo: "실례합니다, 스카이트리는 어디인가요?",
        textPronunciation: "스미마셍, 스카이츠리-와 도코데스카?",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 'すみません'으로 시작하고 '〇〇はどこですか'로 장소를 물어보는 정석이에요.",
          grammarPoint: "'〇〇はどこですか'는 '〇〇는 어디인가요?'라는 기본 길 묻기 표현이에요.",
        },
      },
      {
        text: "スカイツリーへの行き方を教えてください。",
        textKo: "스카이트리 가는 길을 알려주세요.",
        textPronunciation: "스카이츠리-에노 이키카타오 오시에테쿠다사이",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "아주 정중한 표현이에요! 다만 조금 길어서 'どこですか'가 더 실용적이에요.",
          grammarPoint: "'行き方(이키카타)'는 '가는 방법'이라는 뜻. '方(카타)'는 방법을 뜻해요.",
        },
      },
      {
        text: "ねえ、スカイツリーどっち？",
        textKo: "저기, 스카이트리 어느 쪽?",
        textPronunciation: "네-, 스카이츠리- 돗치?",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'ねえ'는 친구에게 쓰는 말이에요. 모르는 사람에게는 'すみません'으로 시작하세요!",
          betterExpression: "すみません、スカイツリーはどこですか？",
          betterExpressionKo: "실례합니다, 스카이트리는 어디인가요?",
          betterExpressionPronunciation: "스미마셍, 스카이츠리-와 도코데스카?",
          grammarPoint: "모르는 사람에게 말을 걸 때는 반드시 'すみません'으로 시작하세요.",
        },
      },
    ],
  },
  {
    id: "dir-2",
    npcMessage: "ああ、スカイツリーですね。この道をまっすぐ行って、二つ目の交差点を右に曲がってください。",
    npcMessageKo: "아, 스카이트리요. 이 길을 쭉 가서 두 번째 교차로에서 오른쪽으로 도세요.",
    npcMessagePronunciation: "아-, 스카이츠리-데스네. 코노 미치오 맛스구 잇테, 후타츠메노 코-사텡오 미기니 마갓테쿠다사이.",
    npcEmotion: "encouraging",
    choices: [
      {
        text: "右に曲がるんですね？",
        textKo: "오른쪽으로 도는 거죠?",
        textPronunciation: "미기니 마가룬데스네?",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 방향을 확인하는 아주 자연스러운 표현이에요.",
          grammarPoint: "'〜んですね'는 상대방의 말을 확인할 때 쓰는 표현이에요. '〜는 거죠?'",
        },
      },
      {
        text: "わかりました。ありがとうございます。",
        textKo: "알겠습니다. 감사합니다.",
        textPronunciation: "와카리마시타. 아리가또고자이마스.",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 다만 방향을 확인하고 나서 감사 인사를 하면 더 안전해요.",
          betterExpression: "右に曲がるんですね？ありがとうございます。",
          betterExpressionKo: "오른쪽으로 도는 거죠? 감사합니다.",
          betterExpressionPronunciation: "미기니 마가룬데스네? 아리가또고자이마스.",
          grammarPoint: "방향을 복기(확인)하면 길을 잘못 갈 확률이 줄어요!",
        },
      },
      {
        text: "え？もう一回言ってください。",
        textKo: "네? 한 번 더 말해주세요.",
        textPronunciation: "에? 모-잇카이 잇테쿠다사이.",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "다시 말해달라고 요청하는 것 자체는 괜찮지만, 핵심을 확인하는 것이 더 효율적이에요.",
          betterExpression: "右に曲がるんですね？",
          betterExpressionKo: "오른쪽으로 도는 거죠?",
          betterExpressionPronunciation: "미기니 마가룬데스네?",
          grammarPoint: "'もう一回(모-잇카이)'는 '한 번 더'라는 뜻이에요. 'もう一度(모-이치도)'와 같아요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "交差点",
      reading: "こうさてん",
      pronunciation: "코-사텡",
      meaning: "교차로",
      explanation: "交(사귈 교) + 差(다를 차) + 点(점 점) — 길이 교차하는 지점",
    },
  },
  {
    id: "dir-3",
    npcMessage: "そうです！歩いて10分くらいですよ。頑張ってね！",
    npcMessageKo: "맞아요! 걸어서 10분 정도예요. 힘내세요!",
    npcMessagePronunciation: "소-데스! 아루이테 쥿풍쿠라이데스요. 감밧테네!",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "ありがとうございます！助かりました。",
        textKo: "감사합니다! 도움이 되었어요.",
        textPronunciation: "아리가또고자이마스! 타스카리마시타.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '助かりました'는 '도움이 되었습니다'라는 감사의 표현이에요.",
          grammarPoint: "'助かる(타스카루)'는 '도움이 되다/살았다'라는 뜻이에요. 도움을 받았을 때 자주 써요.",
        },
      },
      {
        text: "ありがとう！",
        textKo: "고마워요!",
        textPronunciation: "아리가또!",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "친근한 감사 표현이에요! 행인이 친절했으니 충분해요.",
          grammarPoint: "반말인 'ありがとう'도 친절한 행인에게는 자연스러울 수 있어요.",
        },
      },
      {
        text: "...",
        textKo: "(그냥 가기)",
        textPronunciation: "...",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "도움을 받으면 꼭 감사 인사를 해야 해요!",
          betterExpression: "ありがとうございます！",
          betterExpressionKo: "감사합니다!",
          betterExpressionPronunciation: "아리가또고자이마스!",
          grammarPoint: "일본에서는 도움을 받은 후 감사 인사를 하지 않으면 매우 무례하게 여겨져요.",
        },
      },
    ],
  },
];

// ===== 택시 =====
const taxiRide: ConversationFlow = [
  {
    id: "taxi-1",
    npcMessage: "どちらまで？",
    npcMessageKo: "어디까지 가시나요?",
    npcMessagePronunciation: "도치라마데?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "東京タワーまでお願いします。",
        textKo: "도쿄타워까지 부탁합니다.",
        textPronunciation: "토-쿄-타와-마데 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '〇〇までお願いします'는 택시에서 목적지를 말하는 정석이에요.",
          grammarPoint: "'まで'는 '~까지'라는 도착점을 나타내는 조사예요.",
        },
      },
      {
        text: "東京タワー。",
        textKo: "도쿄타워.",
        textPronunciation: "토-쿄-타와-",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "통하지만, 'までお願いします'를 붙이면 더 정중해요.",
          betterExpression: "東京タワーまでお願いします。",
          betterExpressionKo: "도쿄타워까지 부탁합니다.",
          betterExpressionPronunciation: "토-쿄-타와-마데 오네가이시마스",
          grammarPoint: "택시에서는 '〇〇までお願いします'가 기본 패턴이에요.",
        },
      },
      {
        text: "あの... どこか有名な所...",
        textKo: "저... 어디 유명한 곳...",
        textPronunciation: "아노... 도코카 유-메-나 토코로...",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "목적지를 정확히 말해야 해요. 택시 기사는 구체적인 장소명이 필요합니다.",
          betterExpression: "東京タワーまでお願いします。",
          betterExpressionKo: "도쿄타워까지 부탁합니다.",
          betterExpressionPronunciation: "토-쿄-타와-마데 오네가이시마스",
          grammarPoint: "택시를 탈 때는 미리 목적지 이름을 일본어로 준비해두세요!",
        },
      },
    ],
  },
  {
    id: "taxi-2",
    npcMessage: "東京タワーですね。かしこまりました。少し渋滞していますが、大丈夫ですか？",
    npcMessageKo: "도쿄타워요. 알겠습니다. 좀 막히는데 괜찮으세요?",
    npcMessagePronunciation: "토-쿄-타와-데스네. 카시코마리마시타. 스코시 쥬-타이시테이마스가, 다이죠-부데스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "はい、大丈夫です。",
        textKo: "네, 괜찮습니다.",
        textPronunciation: "하이, 다이죠-부데스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! '大丈夫です'는 만능 긍정 응답이에요.",
          grammarPoint: "'渋滞(쥬-타이)'는 '교통체증'이라는 뜻이에요. 택시에서 자주 듣는 단어!",
        },
      },
      {
        text: "急いでください。",
        textKo: "서둘러 주세요.",
        textPronunciation: "이소이데쿠다사이",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "의미는 통하지만, 일본에서 택시 기사에게 서두르라고 하면 약간 실례일 수 있어요.",
          betterExpression: "はい、大丈夫です。",
          betterExpressionKo: "네, 괜찮습니다.",
          betterExpressionPronunciation: "하이, 다이죠-부데스",
          grammarPoint: "일본 택시 기사는 안전운전을 최우선으로 해요. 서두르라는 말은 피하는 게 좋아요.",
        },
      },
      {
        text: "えー、遅いですね。",
        textKo: "에-, 느리네요.",
        textPronunciation: "에-, 오소이데스네",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "기사에게 느리다고 하면 실례예요! 교통체증은 기사 탓이 아니에요.",
          betterExpression: "はい、大丈夫です。",
          betterExpressionKo: "네, 괜찮습니다.",
          betterExpressionPronunciation: "하이, 다이죠-부데스",
          grammarPoint: "택시에서는 기사에게 불만을 표현하는 것보다 이해하는 태도가 좋아요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "渋滞",
      reading: "じゅうたい",
      pronunciation: "쥬-타이",
      meaning: "교통체증",
      explanation: "渋(떫을 삽) + 滞(머무를 체) — 차가 막혀서 나아가지 못하는 상태",
    },
  },
  {
    id: "taxi-3",
    npcMessage: "着きましたよ。料金は1,500円になります。",
    npcMessageKo: "도착했습니다. 요금은 1,500엔입니다.",
    npcMessagePronunciation: "츠키마시타요. 료-킹와 센고햐쿠엥니 나리마스.",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "カードでお願いします。ありがとうございました。",
        textKo: "카드로 부탁합니다. 감사했습니다.",
        textPronunciation: "카-도데 오네가이시마스. 아리가또고자이마시타.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 결제하고 감사 인사까지 자연스러워요.",
          grammarPoint: "'ありがとうございました'는 과거형 감사예요. 서비스가 끝났을 때 사용해요.",
        },
      },
      {
        text: "はい、ここで大丈夫です。",
        textKo: "네, 여기서 괜찮습니다.",
        textPronunciation: "하이, 코코데 다이죠-부데스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "내릴 곳을 확인하는 표현은 좋지만, 결제와 감사 인사도 해야 해요!",
          betterExpression: "カードでお願いします。ありがとうございました。",
          betterExpressionKo: "카드로 부탁합니다. 감사했습니다.",
          betterExpressionPronunciation: "카-도데 오네가이시마스. 아리가또고자이마시타.",
          grammarPoint: "택시에서 내릴 때는 결제 + 감사 인사가 세트예요!",
        },
      },
      {
        text: "高い！",
        textKo: "비싸!",
        textPronunciation: "타카이!",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "택시 기사에게 '비싸다'고 하면 매우 실례예요. 미터기 요금은 정해져 있어요.",
          betterExpression: "カードでお願いします。ありがとうございました。",
          betterExpressionKo: "카드로 부탁합니다. 감사했습니다.",
          betterExpressionPronunciation: "카-도데 오네가이시마스. 아리가또고자이마시타.",
          grammarPoint: "일본 택시 요금은 미터기로 정해져요. 흥정은 없고, 팁도 불필요해요.",
        },
      },
    ],
  },
];

// ===== 기차역 =====
const trainStation: ConversationFlow = [
  {
    id: "train-1",
    npcMessage: "はい、いらっしゃいませ。",
    npcMessageKo: "네, 어서 오세요.",
    npcMessagePronunciation: "하이, 이랏샤이마세.",
    npcEmotion: "neutral",
    choices: [
      {
        text: "すみません、渋谷までの切符をください。",
        textKo: "실례합니다, 시부야까지 표 주세요.",
        textPronunciation: "스미마셍, 시부야마데노 킷푸오 쿠다사이",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '〇〇までの切符をください'는 표를 살 때 쓰는 정석 표현이에요.",
          grammarPoint: "'までの'는 '~까지의'라는 뜻. 'まで(~까지)' + 'の(~의)' 조합이에요.",
        },
      },
      {
        text: "渋谷に行きたいです。",
        textKo: "시부야에 가고 싶습니다.",
        textPronunciation: "시부야니 이키타이데스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "의미는 통하지만, 창구에서는 직접적으로 '切符をください'가 더 효율적이에요.",
          betterExpression: "渋谷までの切符をください。",
          betterExpressionKo: "시부야까지 표 주세요.",
          betterExpressionPronunciation: "시부야마데노 킷푸오 쿠다사이",
          grammarPoint: "'〜たいです'는 '〜하고 싶습니다'라는 희망 표현이에요.",
        },
      },
      {
        text: "渋谷。",
        textKo: "시부야.",
        textPronunciation: "시부야",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "지명만 말하면 무엇을 원하는지 알 수 없어요. '切符をください'를 붙여야 해요.",
          betterExpression: "渋谷までの切符をください。",
          betterExpressionKo: "시부야까지 표 주세요.",
          betterExpressionPronunciation: "시부야마데노 킷푸오 쿠다사이",
          grammarPoint: "'切符(킷푸)'는 '표/승차권'이라는 뜻이에요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "切符",
      reading: "きっぷ",
      pronunciation: "킷푸",
      meaning: "표 (승차권)",
      explanation: "切(끊을 절) + 符(부호 부) — 원래 종이를 잘라서 만든 표에서 유래",
    },
  },
  {
    id: "train-2",
    npcMessage: "渋谷までですね。片道ですか、往復ですか？",
    npcMessageKo: "시부야까지요. 편도인가요, 왕복인가요?",
    npcMessagePronunciation: "시부야마데데스네. 카타미치데스카, 오-후쿠데스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "片道でお願いします。",
        textKo: "편도로 부탁합니다.",
        textPronunciation: "카타미치데 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '片道(카타미치)'는 편도, '往復(오-후쿠)'는 왕복이에요.",
          grammarPoint: "片道(편도) vs 往復(왕복) — 기차/버스 표를 살 때 반드시 아는 단어!",
        },
      },
      {
        text: "往復でお願いします。",
        textKo: "왕복으로 부탁합니다.",
        textPronunciation: "오-후쿠데 오네가이시마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "돌아올 계획이 있다면 왕복이 편리해요! 자연스러운 표현이에요.",
          grammarPoint: "'往復(오-후쿠)'는 '왕복'이라는 뜻. 往(갈 왕) + 復(돌아올 복)",
        },
      },
      {
        text: "何ですか、それ？",
        textKo: "그게 뭐예요?",
        textPronunciation: "난데스카, 소레?",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'片道'는 편도, '往復'는 왕복이에요. 여행에서 꼭 알아야 할 단어입니다!",
          betterExpression: "片道でお願いします。",
          betterExpressionKo: "편도로 부탁합니다.",
          betterExpressionPronunciation: "카타미치데 오네가이시마스",
          grammarPoint: "片道(카타미치/편도), 往復(오-후쿠/왕복) — 교통 필수 단어!",
        },
      },
    ],
  },
  {
    id: "train-3",
    npcMessage: "3番線から出る電車に乗ってください。乗り換えはありません。",
    npcMessageKo: "3번 선에서 출발하는 전철을 타세요. 환승은 없습니다.",
    npcMessagePronunciation: "산방센카라 데루 덴샤니 놋테쿠다사이. 노리카에와 아리마셍.",
    npcEmotion: "encouraging",
    isLast: true,
    choices: [
      {
        text: "3番線ですね。ありがとうございます。",
        textKo: "3번 선이죠. 감사합니다.",
        textPronunciation: "산방센데스네. 아리가또고자이마스.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 플랫폼 번호를 확인하고 감사 인사까지 자연스러워요.",
          grammarPoint: "'〇番線(〇방센)'은 '〇번 선(플랫폼)'이라는 뜻이에요.",
        },
      },
      {
        text: "ありがとうございます。",
        textKo: "감사합니다.",
        textPronunciation: "아리가또고자이마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "감사 인사 좋아요! 플랫폼 번호도 확인하면 더 안심이에요.",
          grammarPoint: "'乗り換え(노리카에)'는 '환승'이라는 뜻. 직행이면 '乗り換えなし'!",
        },
      },
      {
        text: "はい。",
        textKo: "네.",
        textPronunciation: "하이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'はい'만으로는 아쉬워요. 정보를 확인하고 감사 인사를 하면 좋아요.",
          betterExpression: "3番線ですね。ありがとうございます。",
          betterExpressionKo: "3번 선이죠. 감사합니다.",
          betterExpressionPronunciation: "산방센데스네. 아리가또고자이마스.",
          grammarPoint: "안내를 받으면 핵심 정보를 복기(확인)하는 습관을 들이세요!",
        },
      },
    ],
    kanjiNote: {
      kanji: "乗換",
      reading: "のりかえ",
      pronunciation: "노리카에",
      meaning: "환승",
      explanation: "乗(탈 승) + 換(바꿀 환) — 다른 노선으로 갈아타는 것",
    },
  },
];

// ===== 레스토랑 예약 =====
const restaurantReservation: ConversationFlow = [
  {
    id: "rest-1",
    npcMessage: "はい、レストラン花月です。ご予約ですか？",
    npcMessageKo: "네, 레스토랑 카게츠입니다. 예약이신가요?",
    npcMessagePronunciation: "하이, 레스토랑 카게츠데스. 고요야쿠데스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "はい、予約をお願いしたいのですが。",
        textKo: "네, 예약을 하고 싶은데요.",
        textPronunciation: "하이, 요야쿠오 오네가이시타이노데스가",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '〜たいのですが'는 정중하게 요청할 때 쓰는 아주 좋은 표현이에요.",
          grammarPoint: "'〜のですが'는 '〜인데요'라는 뜻으로, 직접적인 요청보다 부드러운 느낌을 줘요.",
        },
      },
      {
        text: "予約お願いします。",
        textKo: "예약 부탁합니다.",
        textPronunciation: "요야쿠 오네가이시마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "통하지만, '〜したいのですが'를 붙이면 더 정중하고 자연스러워요.",
          betterExpression: "予約をお願いしたいのですが。",
          betterExpressionKo: "예약을 하고 싶은데요.",
          betterExpressionPronunciation: "요야쿠오 오네가이시타이노데스가",
          grammarPoint: "'お願いします'도 정중하지만, 전화 예약에서는 '〜たいのですが'가 더 자연스러워요.",
        },
      },
      {
        text: "席ある？",
        textKo: "자리 있어?",
        textPronunciation: "세키 아루?",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요! 레스토랑에 전화할 때는 정중한 표현을 사용해야 해요.",
          betterExpression: "予約をお願いしたいのですが。",
          betterExpressionKo: "예약을 하고 싶은데요.",
          betterExpressionPronunciation: "요야쿠오 오네가이시타이노데스가",
          grammarPoint: "'席(세키)'는 '자리/좌석'이라는 뜻이에요. 정중하게는 'お席'이라고 해요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "予約",
      reading: "よやく",
      pronunciation: "요야쿠",
      meaning: "예약",
      explanation: "予(미리 예) + 約(약속할 약) — 미리 약속을 잡아두는 것",
    },
  },
  {
    id: "rest-2",
    npcMessage: "何名様で、何時頃のご希望ですか？",
    npcMessageKo: "몇 분이시고, 몇 시쯤 원하시나요?",
    npcMessagePronunciation: "난메-사마데, 난지고로노 고키보-데스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "二名で、七時にお願いします。",
        textKo: "2명이서, 7시에 부탁합니다.",
        textPronunciation: "니메-데, 시치지니 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 인원수와 시간을 명확하게 전달했어요.",
          grammarPoint: "시간 읽기: 1時(이치지), 5時(고지), 7時(시치지), 9時(쿠지). 7은 'しち'또는 'なな'로 읽어요.",
        },
      },
      {
        text: "二人で夜。",
        textKo: "두 명이서 저녁.",
        textPronunciation: "후타리데 요루",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "인원은 알겠지만 정확한 시간이 필요해요. '七時(7시)' 같이 구체적으로 말하세요.",
          betterExpression: "二名で、七時にお願いします。",
          betterExpressionKo: "2명이서, 7시에 부탁합니다.",
          betterExpressionPronunciation: "니메-데, 시치지니 오네가이시마스",
          grammarPoint: "예약 시 인원 + 시간 + 'お願いします'가 기본 패턴이에요.",
        },
      },
      {
        text: "えーと、何人か... いつか...",
        textKo: "음, 몇 명인지... 언젠가...",
        textPronunciation: "에-토, 난닝카... 이츠카...",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "예약할 때는 인원과 시간을 미리 정해서 명확히 말해야 해요!",
          betterExpression: "二名で、七時にお願いします。",
          betterExpressionKo: "2명이서, 7시에 부탁합니다.",
          betterExpressionPronunciation: "니메-데, 시치지니 오네가이시마스",
          grammarPoint: "전화 예약에서는 인원(名), 시간(時), 날짜(日)를 미리 준비해두세요.",
        },
      },
    ],
  },
  {
    id: "rest-3",
    npcMessage: "禁煙席と喫煙席、どちらがよろしいですか？",
    npcMessageKo: "금연석과 흡연석, 어느 쪽이 좋으시겠어요?",
    npcMessagePronunciation: "킹엥세키토 키츠엥세키, 도치라가 요로시-데스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "禁煙席でお願いします。",
        textKo: "금연석으로 부탁합니다.",
        textPronunciation: "킹엥세키데 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '禁煙席(금연석)'을 명확하게 요청했어요.",
          grammarPoint: "禁煙(킹엥/금연) vs 喫煙(키츠엥/흡연). '禁(금지할 금)'과 '喫(마실 끽)'의 차이!",
        },
      },
      {
        text: "タバコ吸わないので、禁煙で。",
        textKo: "담배 안 피우니까 금연으로요.",
        textPronunciation: "타바코 스와나이노데, 킹엥데",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "의미는 잘 통해요! 좀 더 간결하게 말해도 좋아요.",
          betterExpression: "禁煙席でお願いします。",
          betterExpressionKo: "금연석으로 부탁합니다.",
          betterExpressionPronunciation: "킹엥세키데 오네가이시마스",
          grammarPoint: "'〜ので'는 '〜이므로/〜이니까'라는 이유를 나타내는 표현이에요.",
        },
      },
      {
        text: "どっちでもいい。",
        textKo: "아무거나 괜찮아.",
        textPronunciation: "돗치데모 이-",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요! 'どちらでも大丈夫です'가 정중한 표현이에요.",
          betterExpression: "どちらでも大丈夫です。",
          betterExpressionKo: "어느 쪽이든 괜찮습니다.",
          betterExpressionPronunciation: "도치라데모 다이죠-부데스",
          grammarPoint: "'どっち'는 반말, 'どちら'는 존댓말이에요. 가게에서는 'どちら'를 사용하세요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "禁煙",
      reading: "きんえん",
      pronunciation: "킹엥",
      meaning: "금연",
      explanation: "禁(금할 금) + 煙(연기 연) — 흡연이 금지된 구역",
    },
  },
  {
    id: "rest-4",
    npcMessage: "アレルギーはございますか？",
    npcMessageKo: "알레르기가 있으신가요?",
    npcMessagePronunciation: "아레루기-와 고자이마스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "卵アレルギーがあります。",
        textKo: "계란 알레르기가 있습니다.",
        textPronunciation: "타마고 아레루기-가 아리마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "중요한 정보를 정확히 전달했어요! 알레르기 정보는 반드시 말해야 해요.",
          grammarPoint: "알레르기 표현: 卵(타마고/계란), 小麦(코무기/밀), エビ(에비/새우), 牛乳(규-뉴-/우유)",
        },
      },
      {
        text: "特にありません。",
        textKo: "특별히 없습니다.",
        textPronunciation: "토쿠니 아리마셍",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "알레르기가 없다면 이 표현이 완벽해요!",
          grammarPoint: "'特に(토쿠니)'는 '특별히/특히'라는 뜻이에요. '特にありません'은 만능 거절 표현!",
        },
      },
      {
        text: "アレルギー？知らない。",
        textKo: "알레르기? 몰라.",
        textPronunciation: "아레루기-? 시라나이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이고, 알레르기 정보는 건강과 관련되니 확실히 대답해야 해요.",
          betterExpression: "特にありません。",
          betterExpressionKo: "특별히 없습니다.",
          betterExpressionPronunciation: "토쿠니 아리마셍",
          grammarPoint: "일본 레스토랑에서는 알레르기 확인을 꼭 해요. '없다'도 명확히 말하세요.",
        },
      },
    ],
  },
  {
    id: "rest-5",
    npcMessage: "かしこまりました。二名様、七時、禁煙席でご予約承りました。お待ちしております。",
    npcMessageKo: "알겠습니다. 2분, 7시, 금연석으로 예약 접수되었습니다. 기다리고 있겠습니다.",
    npcMessagePronunciation: "카시코마리마시타. 니메-사마, 시치지, 킹엥세키데 고요야쿠 우케타마와리마시타. 오마치시테오리마스.",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "ありがとうございます。よろしくお願いします。",
        textKo: "감사합니다. 잘 부탁드립니다.",
        textPronunciation: "아리가또고자이마스. 요로시쿠 오네가이시마스.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 예약 확인 후 감사와 인사를 함께 하는 자연스러운 마무리에요.",
          grammarPoint: "'よろしくお願いします'는 '잘 부탁드립니다'로, 마무리 인사에 자주 사용해요.",
        },
      },
      {
        text: "ありがとうございます。",
        textKo: "감사합니다.",
        textPronunciation: "아리가또고자이마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "감사 인사 좋아요! '잘 부탁합니다'까지 추가하면 더 완벽해요.",
          grammarPoint: "'承る(우케타마와루)'는 '받다/접수하다'의 매우 정중한 표현이에요. 가게 직원이 사용해요.",
        },
      },
      {
        text: "はいはい。",
        textKo: "네네.",
        textPronunciation: "하이하이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'はいはい'는 건방진 느낌이에요! 'はい'는 한 번만 말하세요.",
          betterExpression: "ありがとうございます。よろしくお願いします。",
          betterExpressionKo: "감사합니다. 잘 부탁드립니다.",
          betterExpressionPronunciation: "아리가또고자이마스. 요로시쿠 오네가이시마스.",
          grammarPoint: "'はい'를 두 번 연속 말하면 성의 없게 들려요. 한 번만 정확히!",
        },
      },
    ],
  },
];

// ===== 호텔 체크인 =====
const hotelCheckin: ConversationFlow = [
  {
    id: "hotel-1",
    npcMessage: "いらっしゃいませ。チェックインでしょうか？",
    npcMessageKo: "어서 오세요. 체크인이신가요?",
    npcMessagePronunciation: "이랏샤이마세. 첵쿠인데쇼-카?",
    npcEmotion: "happy",
    choices: [
      {
        text: "はい、チェックインお願いします。予約した田中です。",
        textKo: "네, 체크인 부탁합니다. 예약한 타나카입니다.",
        textPronunciation: "하이, 첵쿠인 오네가이시마스. 요야쿠시타 타나카데스.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 체크인 요청과 함께 예약자명을 바로 말하면 효율적이에요.",
          grammarPoint: "'予約した〇〇です'는 '예약한 〇〇입니다'라는 뜻. 호텔 체크인 필수 표현!",
        },
      },
      {
        text: "チェックインお願いします。",
        textKo: "체크인 부탁합니다.",
        textPronunciation: "첵쿠인 오네가이시마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 이름도 함께 말하면 더 원활해요.",
          betterExpression: "チェックインお願いします。予約した田中です。",
          betterExpressionKo: "체크인 부탁합니다. 예약한 타나카입니다.",
          betterExpressionPronunciation: "첵쿠인 오네가이시마스. 요야쿠시타 타나카데스.",
          grammarPoint: "호텔에서는 체크인 + 예약자명을 함께 말하는 것이 효율적이에요.",
        },
      },
      {
        text: "部屋をくれ。",
        textKo: "방 줘.",
        textPronunciation: "헤야오 쿠레",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'くれ'는 매우 거친 명령형이에요! 호텔에서는 절대 쓰면 안 됩니다.",
          betterExpression: "チェックインお願いします。",
          betterExpressionKo: "체크인 부탁합니다.",
          betterExpressionPronunciation: "첵쿠인 오네가이시마스",
          grammarPoint: "'くれ'는 반말 명령형, 'ください'는 정중한 요청이에요.",
        },
      },
    ],
  },
  {
    id: "hotel-2",
    npcMessage: "田中様ですね。パスポートをお願いできますか？",
    npcMessageKo: "타나카 님이시군요. 여권을 부탁드려도 될까요?",
    npcMessagePronunciation: "타나카사마데스네. 파스포-토오 오네가이데키마스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "はい、こちらです。",
        textKo: "네, 여기 있습니다.",
        textPronunciation: "하이, 코치라데스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 여권을 건넬 때 'こちらです'는 가장 자연스러운 표현이에요.",
          grammarPoint: "'こちら'는 'これ'의 정중한 표현이에요. 서비스 장면에서 자주 사용!",
        },
      },
      {
        text: "はい、どうぞ。",
        textKo: "네, 여기요.",
        textPronunciation: "하이, 도-조",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "괜찮은 표현이에요! 'こちらです'가 호텔에서는 좀 더 자연스러워요.",
          betterExpression: "はい、こちらです。",
          betterExpressionKo: "네, 여기 있습니다.",
          betterExpressionPronunciation: "하이, 코치라데스",
          grammarPoint: "'どうぞ'는 '여기요/받으세요'라는 뜻. 물건을 건넬 때 사용해요.",
        },
      },
      {
        text: "パスポート？なんで？",
        textKo: "여권? 왜?",
        textPronunciation: "파스포-토? 난데?",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "일본 호텔은 법적으로 외국인 투숙객의 여권 확인이 필수예요. 반말도 안 돼요!",
          betterExpression: "はい、こちらです。",
          betterExpressionKo: "네, 여기 있습니다.",
          betterExpressionPronunciation: "하이, 코치라데스",
          grammarPoint: "일본 여관업법에 따라 외국인은 호텔 체크인 시 여권 제시가 필수예요.",
        },
      },
    ],
  },
  {
    id: "hotel-3",
    npcMessage: "ありがとうございます。お部屋は5階の502号室です。Wi-Fiのパスワードはこちらのカードに書いてあります。",
    npcMessageKo: "감사합니다. 방은 5층 502호실입니다. 와이파이 비밀번호는 이 카드에 적혀있습니다.",
    npcMessagePronunciation: "아리가또고자이마스. 오헤야와 고카이노 고햐쿠니고-시츠데스. 와이파이노 파스와-도와 코치라노 카-도니 카이테아리마스.",
    npcEmotion: "happy",
    choices: [
      {
        text: "ありがとうございます。朝食は何時からですか？",
        textKo: "감사합니다. 아침 식사는 몇 시부터인가요?",
        textPronunciation: "아리가또고자이마스. 초-쇼쿠와 난지카라데스카?",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! 체크인할 때 조식 시간을 물어보는 건 아주 실용적이에요.",
          grammarPoint: "'〜から'는 '〜부터'라는 뜻. '何時から(몇 시부터)', '何時まで(몇 시까지)'",
        },
      },
      {
        text: "わかりました。",
        textKo: "알겠습니다.",
        textPronunciation: "와카리마시타",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 추가 질문(조식, 체크아웃 시간 등)을 하면 더 좋아요.",
          betterExpression: "ありがとうございます。朝食は何時からですか？",
          betterExpressionKo: "감사합니다. 아침 식사는 몇 시부터인가요?",
          betterExpressionPronunciation: "아리가또고자이마스. 초-쇼쿠와 난지카라데스카?",
          grammarPoint: "체크인 시 확인할 것: 朝食(조식), チェックアウト(체크아웃), 大浴場(대욕장)",
        },
      },
      {
        text: "5階？遠いなあ。",
        textKo: "5층? 멀다.",
        textPronunciation: "고카이? 토-이나-",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "불만을 반말로 표현하면 실례예요. 엘리베이터가 있으니 걱정 마세요!",
          betterExpression: "ありがとうございます。エレベーターはどこですか？",
          betterExpressionKo: "감사합니다. 엘리베이터는 어디인가요?",
          betterExpressionPronunciation: "아리가또고자이마스. 에레베-타-와 도코데스카?",
          grammarPoint: "층수 읽기: 1階(잇카이), 2階(니카이), 3階(상가이), 5階(고카이)",
        },
      },
    ],
    kanjiNote: {
      kanji: "部屋",
      reading: "へや",
      pronunciation: "헤야",
      meaning: "방",
      explanation: "部(나눌 부) + 屋(집 옥) — 건물 안에서 나뉜 공간",
    },
  },
  {
    id: "hotel-4",
    npcMessage: "朝食は7時から9時半までで、1階のレストランでお召し上がりいただけます。ごゆっくりおくつろぎください。",
    npcMessageKo: "아침 식사는 7시부터 9시 반까지이고, 1층 레스토랑에서 드실 수 있습니다. 편히 쉬세요.",
    npcMessagePronunciation: "초-쇼쿠와 시치지카라 쿠지한마데데, 잇카이노 레스토랑데 오메시아가리 이타다케마스. 고윳쿠리 오쿠츠로기쿠다사이.",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "ありがとうございます。お世話になります。",
        textKo: "감사합니다. 신세 지겠습니다.",
        textPronunciation: "아리가또고자이마스. 오세와니 나리마스.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 'お世話になります'는 숙박 시 인사로 매우 정중한 표현이에요.",
          grammarPoint: "'お世話になります'는 '신세 지겠습니다'라는 뜻으로, 호텔/료칸에서 자주 쓰는 인사에요.",
        },
      },
      {
        text: "ありがとうございます。",
        textKo: "감사합니다.",
        textPronunciation: "아리가또고자이마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "감사 인사 좋아요! 'お世話になります'를 추가하면 더 자연스러워요.",
          grammarPoint: "'おくつろぎください'는 '편히 쉬세요'라는 뜻의 정중한 표현이에요.",
        },
      },
      {
        text: "はい。",
        textKo: "네.",
        textPronunciation: "하이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'はい'만으로는 아쉬워요. 감사 인사를 꼭 전하세요!",
          betterExpression: "ありがとうございます。お世話になります。",
          betterExpressionKo: "감사합니다. 신세 지겠습니다.",
          betterExpressionPronunciation: "아리가또고자이마스. 오세와니 나리마스.",
          grammarPoint: "일본에서는 서비스를 받을 때 감사 표현이 매우 중요해요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "朝食",
      reading: "ちょうしょく",
      pronunciation: "초-쇼쿠",
      meaning: "아침 식사",
      explanation: "朝(아침 조) + 食(먹을 식) — 아침에 먹는 식사. 호텔 조식!",
    },
  },
];

// ===== 옷 가게 =====
const clothingStore: ConversationFlow = [
  {
    id: "cloth-1",
    npcMessage: "いらっしゃいませ！何かお探しですか？",
    npcMessageKo: "어서 오세요! 찾으시는 게 있으세요?",
    npcMessagePronunciation: "이랏샤이마세! 나니카 오사가시데스카?",
    npcEmotion: "happy",
    choices: [
      {
        text: "Tシャツを探しているんですが。",
        textKo: "티셔츠를 찾고 있는데요.",
        textPronunciation: "티-샤츠오 사가시테이룬데스가",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '〜ているんですが'는 정중하게 도움을 요청하는 표현이에요.",
          grammarPoint: "'探す(사가스)'는 '찾다'. '探している(사가시테이루)'는 '찾고 있다'.",
        },
      },
      {
        text: "Tシャツはどこですか？",
        textKo: "티셔츠는 어디에 있나요?",
        textPronunciation: "티-샤츠와 도코데스카?",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "통하지만, 점원에게 도움을 요청하는 느낌으로 '探しているんですが'가 더 자연스러워요.",
          betterExpression: "Tシャツを探しているんですが。",
          betterExpressionKo: "티셔츠를 찾고 있는데요.",
          betterExpressionPronunciation: "티-샤츠오 사가시테이룬데스가",
          grammarPoint: "'〜んですが'는 '〜인데요'라는 뜻으로, 간접적인 요청에 사용해요.",
        },
      },
      {
        text: "ちょっと見てるだけ。",
        textKo: "그냥 좀 보는 거야.",
        textPronunciation: "촛토 미테루다케",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요! '見ているだけです'로 정중하게 말하세요.",
          betterExpression: "見ているだけです。ありがとうございます。",
          betterExpressionKo: "그냥 보고 있는 중입니다. 감사합니다.",
          betterExpressionPronunciation: "미테이루다케데스. 아리가또고자이마스.",
          grammarPoint: "'見ているだけです'는 '그냥 보고 있을 뿐입니다'라는 정중한 표현이에요.",
        },
      },
    ],
  },
  {
    id: "cloth-2",
    npcMessage: "Tシャツでしたら、こちらにございます。サイズはおいくつですか？",
    npcMessageKo: "티셔츠라면 이쪽에 있습니다. 사이즈는 어떻게 되세요?",
    npcMessagePronunciation: "티-샤츠데시타라, 코치라니 고자이마스. 사이즈와 오이쿠츠데스카?",
    npcEmotion: "encouraging",
    choices: [
      {
        text: "Mサイズはありますか？",
        textKo: "M 사이즈 있나요?",
        textPronunciation: "에무사이즈와 아리마스카?",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! 사이즈를 정확히 물어보는 좋은 표현이에요.",
          grammarPoint: "일본 사이즈: S(에스), M(에무), L(에루), XL(엑스에루). 한국보다 작을 수 있어요!",
        },
      },
      {
        text: "Mサイズで。",
        textKo: "M 사이즈로요.",
        textPronunciation: "에무사이즈데",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "간결하지만 통해요! '〜はありますか'로 물어보면 더 자연스러워요.",
          betterExpression: "Mサイズはありますか？",
          betterExpressionKo: "M 사이즈 있나요?",
          betterExpressionPronunciation: "에무사이즈와 아리마스카?",
          grammarPoint: "'ありますか'는 '있나요?'라는 뜻. 가게에서 물건을 찾을 때 필수 표현!",
        },
      },
      {
        text: "わからない。",
        textKo: "모르겠어.",
        textPronunciation: "와카라나이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요! 사이즈를 모르면 'わかりません'이라고 정중하게 말하세요.",
          betterExpression: "すみません、わかりません。どれがいいですか？",
          betterExpressionKo: "죄송합니다, 모르겠어요. 어떤 게 좋을까요?",
          betterExpressionPronunciation: "스미마셍, 와카리마셍. 도레가 이-데스카?",
          grammarPoint: "'わからない'는 반말, 'わかりません'은 존댓말이에요.",
        },
      },
    ],
  },
  {
    id: "cloth-3",
    npcMessage: "Mサイズ、こちらにありますよ。色は白と黒と青がございます。試着もできますよ。",
    npcMessageKo: "M 사이즈, 여기 있어요. 색은 흰색, 검은색, 파란색이 있습니다. 시착도 가능해요.",
    npcMessagePronunciation: "에무사이즈, 코치라니 아리마스요. 이로와 시로토 쿠로토 아오가 고자이마스. 시챠쿠모 데키마스요.",
    npcEmotion: "encouraging",
    choices: [
      {
        text: "この白いのを試着してもいいですか？",
        textKo: "이 흰색을 입어봐도 될까요?",
        textPronunciation: "코노 시로이노오 시챠쿠시테모 이-데스카?",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! '〜してもいいですか'는 허락을 구하는 정중한 표현이에요.",
          grammarPoint: "'〜てもいいですか'는 '〜해도 될까요?'라는 허락 요청 표현. 만능으로 쓸 수 있어요!",
        },
      },
      {
        text: "他の色はありますか？",
        textKo: "다른 색은 있나요?",
        textPronunciation: "호카노 이로와 아리마스카?",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "다른 색을 물어보는 자연스러운 표현이에요!",
          grammarPoint: "'他の(호카노)'는 '다른'이라는 뜻. '他の色(다른 색)', '他のサイズ(다른 사이즈)'",
        },
      },
      {
        text: "これ着てみる。",
        textKo: "이거 입어볼게.",
        textPronunciation: "코레 키테미루",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요! 가게에서는 '〜してもいいですか'로 정중하게 허락을 구하세요.",
          betterExpression: "試着してもいいですか？",
          betterExpressionKo: "입어봐도 될까요?",
          betterExpressionPronunciation: "시챠쿠시테모 이-데스카?",
          grammarPoint: "'試着(시챠쿠)'는 '시착/입어보기'라는 뜻이에요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "試着",
      reading: "しちゃく",
      pronunciation: "시챠쿠",
      meaning: "시착 (입어보기)",
      explanation: "試(시험할 시) + 着(입을 착) — 옷을 사기 전에 입어보는 것",
    },
  },
  {
    id: "cloth-4",
    npcMessage: "はい、試着室はあちらです。いかがでしたか？",
    npcMessageKo: "네, 탈의실은 저쪽입니다. 어떠셨어요?",
    npcMessagePronunciation: "하이, 시챠쿠시츠와 아치라데스. 이카가데시타카?",
    npcEmotion: "encouraging",
    choices: [
      {
        text: "ぴったりです！これにします。",
        textKo: "딱 맞아요! 이걸로 할게요.",
        textPronunciation: "핏타리데스! 코레니 시마스.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 'ぴったり'는 사이즈가 딱 맞을 때, 'これにします'는 구매 결정!",
          grammarPoint: "'これにします'는 '이걸로 하겠습니다'라는 뜻. 쇼핑에서 구매 결정할 때 꼭 쓰는 표현!",
        },
      },
      {
        text: "少し大きいです。Sサイズはありますか？",
        textKo: "좀 커요. S 사이즈 있나요?",
        textPronunciation: "스코시 오-키-데스. 에스사이즈와 아리마스카?",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "사이즈 피드백을 잘 전달했어요! '少し(스코시)'는 '조금'이라는 유용한 표현이에요.",
          grammarPoint: "사이즈 표현: 大きい(오-키-/크다), 小さい(치-사이/작다), きつい(키츠이/꽉 끼다)",
        },
      },
      {
        text: "うーん、微妙。",
        textKo: "음, 애매해.",
        textPronunciation: "우-응, 비묘-",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'微妙'는 캐주얼한 표현이에요. 구체적으로 어떤 점이 안 맞는지 말해보세요.",
          betterExpression: "少し大きいです。他のサイズはありますか？",
          betterExpressionKo: "좀 커요. 다른 사이즈 있나요?",
          betterExpressionPronunciation: "스코시 오-키-데스. 호카노 사이즈와 아리마스카?",
          grammarPoint: "점원에게 피드백할 때는 구체적으로! '크다/작다/길다/짧다' 등.",
        },
      },
    ],
  },
  {
    id: "cloth-5",
    npcMessage: "ありがとうございます！3,500円になります。レジはあちらです。",
    npcMessageKo: "감사합니다! 3,500엔입니다. 계산대는 저쪽입니다.",
    npcMessagePronunciation: "아리가또고자이마스! 산젱고햐쿠엥니 나리마스. 레지와 아치라데스.",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "カードでお願いします。ありがとうございました。",
        textKo: "카드로 부탁합니다. 감사합니다.",
        textPronunciation: "카-도데 오네가이시마스. 아리가또고자이마시타.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 결제 수단과 감사 인사까지 자연스러워요.",
          grammarPoint: "'レジ(레지)'는 '계산대'라는 뜻. 영어 register에서 온 일본식 외래어예요.",
        },
      },
      {
        text: "ありがとうございます。",
        textKo: "감사합니다.",
        textPronunciation: "아리가또고자이마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "감사 인사 좋아요! 결제 수단도 함께 말하면 더 효율적이에요.",
          grammarPoint: "일본 쇼핑에서는 세금 포함 가격(税込/제-코미)과 별도 가격(税抜/제-누키)이 있어요.",
        },
      },
      {
        text: "高い！安くして。",
        textKo: "비싸! 깎아줘.",
        textPronunciation: "타카이! 야스쿠시테.",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "일본 가게에서는 흥정이 일반적이지 않아요! 정가를 지불하는 것이 문화예요.",
          betterExpression: "カードでお願いします。",
          betterExpressionKo: "카드로 부탁합니다.",
          betterExpressionPronunciation: "카-도데 오네가이시마스",
          grammarPoint: "일본에서는 정가 판매가 기본! 할인은 세일 기간(セール)에만 있어요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "半額",
      reading: "はんがく",
      pronunciation: "항가쿠",
      meaning: "반값 (50% 할인)",
      explanation: "半(반 반) + 額(이마/금액 액) — 가격의 절반. 세일 때 자주 보는 표현!",
    },
  },
];

// ===== 관광지 =====
const touristSpot: ConversationFlow = [
  {
    id: "tour-1",
    npcMessage: "いらっしゃいませ。浅草寺へようこそ！入場券をお求めですか？",
    npcMessageKo: "어서 오세요. 센소지에 오신 것을 환영합니다! 입장권을 구하시나요?",
    npcMessagePronunciation: "이랏샤이마세. 센소-지에 요-코소! 뉴-죠-켄오 오모토메데스카?",
    npcEmotion: "happy",
    choices: [
      {
        text: "はい、大人二枚お願いします。",
        textKo: "네, 어른 2장 부탁합니다.",
        textPronunciation: "하이, 오토나 니마이 오네가이시마스",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 인원과 수량을 명확하게 말했어요.",
          grammarPoint: "표 세기: 一枚(이치마이/1장), 二枚(니마이/2장), 三枚(산마이/3장). '枚(마이)'는 얇은 물건을 세는 조수사.",
        },
      },
      {
        text: "チケットをください。",
        textKo: "티켓 주세요.",
        textPronunciation: "치켓토오 쿠다사이",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "통하지만, 인원수와 매수를 말하면 더 정확해요.",
          betterExpression: "大人二枚お願いします。",
          betterExpressionKo: "어른 2장 부탁합니다.",
          betterExpressionPronunciation: "오토나 니마이 오네가이시마스",
          grammarPoint: "大人(오토나/어른) vs 子供(코도모/어린이). 요금이 다를 수 있어요!",
        },
      },
      {
        text: "ここ何？",
        textKo: "여기 뭐야?",
        textPronunciation: "코코 나니?",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요! 관광지 직원에게는 정중하게 말하세요.",
          betterExpression: "ここはどんな場所ですか？",
          betterExpressionKo: "여기는 어떤 곳인가요?",
          betterExpressionPronunciation: "코코와 돈나 바쇼데스카?",
          grammarPoint: "'何(나니)'는 '뭐/무엇'. 정중하게는 '何ですか(난데스카)'로 사용하세요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "入場",
      reading: "にゅうじょう",
      pronunciation: "뉴-죠-",
      meaning: "입장",
      explanation: "入(들 입) + 場(마당 장) — 시설이나 장소에 들어가는 것",
    },
  },
  {
    id: "tour-2",
    npcMessage: "こちらのパンフレットもどうぞ。おすすめのコースがありますよ。",
    npcMessageKo: "이 팸플릿도 받으세요. 추천 코스가 있어요.",
    npcMessagePronunciation: "코치라노 팡후렛또모 도-조. 오스스메노 코-스가 아리마스요.",
    npcEmotion: "encouraging",
    choices: [
      {
        text: "ありがとうございます。おすすめのコースはどれですか？",
        textKo: "감사합니다. 추천 코스는 어떤 건가요?",
        textPronunciation: "아리가또고자이마스. 오스스메노 코-스와 도레데스카?",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! 추천을 물어보는 적극적인 태도가 좋아요.",
          grammarPoint: "'どれ'는 '어떤 것'. 3개 이상 중에서 선택할 때 사용해요. 2개면 'どちら'.",
        },
      },
      {
        text: "写真を撮ってもらえますか？",
        textKo: "사진 찍어주실 수 있나요?",
        textPronunciation: "샤싱오 톳테모라에마스카?",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "사진 부탁은 관광지에서 매우 유용한 표현이에요! 상황에 맞는 좋은 요청이에요.",
          grammarPoint: "'〜てもらえますか'는 '〜해주실 수 있나요?'라는 정중한 부탁 표현이에요.",
        },
      },
      {
        text: "いらない。",
        textKo: "필요 없어.",
        textPronunciation: "이라나이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "호의를 반말로 거절하면 실례예요. '大丈夫です'로 부드럽게 거절하세요.",
          betterExpression: "大丈夫です。ありがとうございます。",
          betterExpressionKo: "괜찮습니다. 감사합니다.",
          betterExpressionPronunciation: "다이죠-부데스. 아리가또고자이마스.",
          grammarPoint: "호의를 거절할 때도 감사 인사를 함께 하는 것이 일본 예의에요.",
        },
      },
    ],
  },
  {
    id: "tour-3",
    npcMessage: "本堂をご覧になってから、仲見世通りでお買い物を楽しむのがおすすめです。",
    npcMessageKo: "본당을 구경하시고, 나카미세 거리에서 쇼핑을 즐기시는 걸 추천해요.",
    npcMessagePronunciation: "혼도-오 고랑니 낫테카라, 나카미세도-리데 오카이모노오 타노시무노가 오스스메데스.",
    npcEmotion: "encouraging",
    choices: [
      {
        text: "わかりました。ところで、記念写真はどこで撮るのがいいですか？",
        textKo: "알겠습니다. 그런데 기념사진은 어디서 찍는 게 좋을까요?",
        textPronunciation: "와카리마시타. 토코로데, 키넹샤싱와 도코데 토루노가 이-데스카?",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! '기념사진 포인트'를 물어보는 건 관광지에서 아주 실용적이에요.",
          grammarPoint: "'ところで'는 '그런데/그나저나'라는 화제 전환 표현이에요.",
        },
      },
      {
        text: "ありがとうございます。楽しみです！",
        textKo: "감사합니다. 기대돼요!",
        textPronunciation: "아리가또고자이마스. 타노시미데스!",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! '楽しみです'는 '기대됩니다'라는 긍정적인 표현이에요.",
          grammarPoint: "'楽しみ(타노시미)'는 '즐거움/기대'라는 뜻. '楽しみです'는 '기대돼요!'",
        },
      },
      {
        text: "ふーん。",
        textKo: "흠.",
        textPronunciation: "후-응",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'ふーん'은 관심 없다는 느낌이에요. 친절한 안내에는 감사를 표하세요!",
          betterExpression: "ありがとうございます。楽しみです！",
          betterExpressionKo: "감사합니다. 기대돼요!",
          betterExpressionPronunciation: "아리가또고자이마스. 타노시미데스!",
          grammarPoint: "관광안내원의 도움에는 반드시 감사 표현을 하세요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "記念",
      reading: "きねん",
      pronunciation: "키넹",
      meaning: "기념",
      explanation: "記(기록할 기) + 念(생각 념) — 특별한 순간을 기억하기 위한 것",
    },
  },
  {
    id: "tour-4",
    npcMessage: "雷門の前が一番の写真スポットですよ！楽しんでくださいね。",
    npcMessageKo: "카미나리몬 앞이 최고의 사진 스폿이에요! 즐겨주세요.",
    npcMessagePronunciation: "카미나리몽노 마에가 이치방노 샤싱 스폿또데스요! 타노신데쿠다사이네.",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "ありがとうございます！とても楽しみです。",
        textKo: "감사합니다! 정말 기대돼요.",
        textPronunciation: "아리가또고자이마스! 토테모 타노시미데스.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 'とても'로 강조하고 기대감을 표현하는 자연스러운 마무리!",
          grammarPoint: "'とても(토테모)'는 '매우/정말'이라는 강조 부사예요. 감정 표현에 자주 써요.",
        },
      },
      {
        text: "ありがとう！",
        textKo: "고마워요!",
        textPronunciation: "아리가또!",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "친근한 감사 표현! 관광안내원에게는 조금 더 정중해도 좋아요.",
          grammarPoint: "'雷門(카미나리몽)'은 센소지의 유명한 빨간 등불 문이에요. 아사쿠사의 상징!",
        },
      },
      {
        text: "はい。",
        textKo: "네.",
        textPronunciation: "하이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "친절한 안내에 '네'만 하면 아쉬워요. 감사와 기대를 표현하세요!",
          betterExpression: "ありがとうございます！楽しみます。",
          betterExpressionKo: "감사합니다! 즐기겠습니다.",
          betterExpressionPronunciation: "아리가또고자이마스! 타노시미마스.",
          grammarPoint: "'楽しみます(타노시미마스)'는 '즐기겠습니다'라는 뜻이에요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "写真",
      reading: "しゃしん",
      pronunciation: "샤싱",
      meaning: "사진",
      explanation: "写(베낄 사) + 真(참 진) — 실제 모습을 그대로 옮긴 것",
    },
  },
];

// ===== 병원 =====
const hospital: ConversationFlow = [
  {
    id: "hosp-1",
    npcMessage: "はい、どうされましたか？",
    npcMessageKo: "네, 어떻게 오셨나요?",
    npcMessagePronunciation: "하이, 도-사레마시타카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "お腹が痛いです。昨日の夜からです。",
        textKo: "배가 아픕니다. 어젯밤부터입니다.",
        textPronunciation: "오나카가 이타이데스. 키노-노 요루카라데스.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 증상과 시작 시점을 명확하게 전달했어요. 의사에게 매우 도움이 돼요.",
          grammarPoint: "'〇〇が痛いです'는 '〇〇가 아픕니다'라는 증상 표현. '〜からです'는 '〜부터입니다'.",
        },
      },
      {
        text: "お腹が痛いです。",
        textKo: "배가 아픕니다.",
        textPronunciation: "오나카가 이타이데스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "증상을 잘 말했어요! 언제부터 아팠는지도 함께 말하면 진료에 도움이 돼요.",
          betterExpression: "お腹が痛いです。昨日の夜からです。",
          betterExpressionKo: "배가 아픕니다. 어젯밤부터입니다.",
          betterExpressionPronunciation: "오나카가 이타이데스. 키노-노 요루카라데스.",
          grammarPoint: "병원에서는 '어디가(증상) + 언제부터(시기)'를 함께 말하는 것이 좋아요.",
        },
      },
      {
        text: "具合が悪い...",
        textKo: "몸 상태가 안 좋아...",
        textPronunciation: "구아이가 와루이...",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'具合が悪い'는 '몸 상태가 안 좋다'는 뜻이지만, 구체적인 증상을 말해야 해요.",
          betterExpression: "お腹が痛いです。昨日の夜からです。",
          betterExpressionKo: "배가 아픕니다. 어젯밤부터입니다.",
          betterExpressionPronunciation: "오나카가 이타이데스. 키노-노 요루카라데스.",
          grammarPoint: "아픈 부위: 頭(아타마/머리), お腹(오나카/배), 喉(노도/목), 歯(하/이)",
        },
      },
    ],
    kanjiNote: {
      kanji: "腹痛",
      reading: "ふくつう",
      pronunciation: "후쿠츠-",
      meaning: "복통",
      explanation: "腹(배 복) + 痛(아플 통) — 배가 아픈 증상",
    },
  },
  {
    id: "hosp-2",
    npcMessage: "昨日の夜からですね。他に症状はありますか？吐き気とか、熱とか。",
    npcMessageKo: "어젯밤부터군요. 다른 증상은 있나요? 구역질이나, 열이라든지.",
    npcMessagePronunciation: "키노-노 요루카라데스네. 호카니 쇼-죠-와 아리마스카? 하키게토카, 네츠토카.",
    npcEmotion: "neutral",
    choices: [
      {
        text: "吐き気もあります。でも熱はないです。",
        textKo: "구역질도 있습니다. 하지만 열은 없습니다.",
        textPronunciation: "하키게모 아리마스. 데모 네츠와 나이데스.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "증상을 정확히 설명했어요! 있는 증상과 없는 증상을 모두 말하는 게 좋아요.",
          grammarPoint: "'〜もあります'는 '〜도 있습니다'. 'でも〜ないです'는 '하지만 〜없습니다'.",
        },
      },
      {
        text: "少し吐き気があります。",
        textKo: "약간 구역질이 있습니다.",
        textPronunciation: "스코시 하키게가 아리마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 열 여부도 함께 말해주면 더 정확한 진단에 도움이 돼요.",
          betterExpression: "吐き気もあります。でも熱はないです。",
          betterExpressionKo: "구역질도 있습니다. 하지만 열은 없습니다.",
          betterExpressionPronunciation: "하키게모 아리마스. 데모 네츠와 나이데스.",
          grammarPoint: "'少し(스코시)'는 '조금/약간'. 증상의 정도를 표현할 때 유용해요.",
        },
      },
      {
        text: "わからない。",
        textKo: "모르겠어.",
        textPronunciation: "와카라나이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요. 또, 증상은 최대한 자세히 설명하는 것이 중요해요.",
          betterExpression: "よくわかりませんが、少し気持ち悪いです。",
          betterExpressionKo: "잘 모르겠지만, 약간 속이 안 좋습니다.",
          betterExpressionPronunciation: "요쿠 와카리마셍가, 스코시 키모치와루이데스.",
          grammarPoint: "'気持ち悪い(키모치와루이)'는 '속이 안 좋다/기분이 안 좋다'라는 뜻이에요.",
        },
      },
    ],
  },
  {
    id: "hosp-3",
    npcMessage: "わかりました。お腹を少し診せてくださいね。... 食あたりのようですね。お薬を出しますね。",
    npcMessageKo: "알겠습니다. 배를 좀 보여주세요. ... 식중독인 것 같네요. 약을 처방해드리겠습니다.",
    npcMessagePronunciation: "와카리마시타. 오나카오 스코시 미세테쿠다사이네. ... 쇼쿠아타리노 요-데스네. 오쿠스리오 다시마스네.",
    npcEmotion: "encouraging",
    choices: [
      {
        text: "ありがとうございます。薬はどのように飲めばいいですか？",
        textKo: "감사합니다. 약은 어떻게 먹으면 되나요?",
        textPronunciation: "아리가또고자이마스. 쿠스리와 도노요-니 노메바 이-데스카?",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 복용법을 물어보는 건 매우 중요한 확인이에요.",
          grammarPoint: "'〜ばいいですか'는 '〜하면 되나요?'라는 방법을 묻는 표현. '飲めば(노메바/마시면)'.",
        },
      },
      {
        text: "わかりました。ありがとうございます。",
        textKo: "알겠습니다. 감사합니다.",
        textPronunciation: "와카리마시타. 아리가또고자이마스.",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 복용법도 꼭 확인하세요.",
          betterExpression: "ありがとうございます。薬はどのように飲めばいいですか？",
          betterExpressionKo: "감사합니다. 약은 어떻게 먹으면 되나요?",
          betterExpressionPronunciation: "아리가또고자이마스. 쿠스리와 도노요-니 노메바 이-데스카?",
          grammarPoint: "'食あたり(쇼쿠아타리)'는 '식중독'이라는 뜻이에요. '食(먹을 식) + 当たり(맞음)'.",
        },
      },
      {
        text: "大丈夫ですか？",
        textKo: "괜찮은 건가요?",
        textPronunciation: "다이죠-부데스카?",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "걱정되는 마음은 이해하지만, 의사가 약을 처방했으니 복용법을 확인하는 게 더 실용적이에요.",
          betterExpression: "薬はどのように飲めばいいですか？",
          betterExpressionKo: "약은 어떻게 먹으면 되나요?",
          betterExpressionPronunciation: "쿠스리와 도노요-니 노메바 이-데스카?",
          grammarPoint: "병원에서는 진단 후 복용법, 주의사항, 재진 일정 등을 확인하세요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "処方",
      reading: "しょほう",
      pronunciation: "쇼호-",
      meaning: "처방",
      explanation: "処(처리할 처) + 方(방법 방) — 의사가 약의 종류와 양을 정하는 것",
    },
  },
  {
    id: "hosp-4",
    npcMessage: "食後に一日三回飲んでください。辛いものは控えてくださいね。お大事に。",
    npcMessageKo: "식후에 하루 3번 드세요. 매운 것은 삼가해주세요. 몸조심하세요.",
    npcMessagePronunciation: "쇼쿠고니 이치니치 산카이 논데쿠다사이. 카라이모노와 히카에테쿠다사이네. 오다이지니.",
    npcEmotion: "encouraging",
    isLast: true,
    choices: [
      {
        text: "わかりました。ありがとうございました。お世話になりました。",
        textKo: "알겠습니다. 감사합니다. 신세 졌습니다.",
        textPronunciation: "와카리마시타. 아리가또고자이마시타. 오세와니 나리마시타.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 'お世話になりました'는 도움을 받은 후 쓰는 아주 정중한 감사 표현이에요.",
          grammarPoint: "'お大事に(오다이지니)'는 '몸조심하세요'라는 뜻. 의사나 간호사가 환자에게 하는 인사예요.",
        },
      },
      {
        text: "ありがとうございました。",
        textKo: "감사합니다.",
        textPronunciation: "아리가또고자이마시타",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "감사 인사 좋아요! 'お世話になりました'도 추가하면 더 정중해요.",
          grammarPoint: "'食後(쇼쿠고)'는 '식후', '食前(쇼쿠젠)'은 '식전'. 약 복용 시 중요한 단어!",
        },
      },
      {
        text: "はい。",
        textKo: "네.",
        textPronunciation: "하이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "의사에게 진료를 받은 후에는 감사 인사를 꼭 해야 해요!",
          betterExpression: "ありがとうございました。お世話になりました。",
          betterExpressionKo: "감사합니다. 신세 졌습니다.",
          betterExpressionPronunciation: "아리가또고자이마시타. 오세와니 나리마시타.",
          grammarPoint: "일본 병원에서는 진료 후 감사 인사가 기본 매너예요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "薬",
      reading: "くすり",
      pronunciation: "쿠스리",
      meaning: "약",
      explanation: "草(풀 초) + 楽(즐거울 락) — 풀(약초)로 몸을 편하게 만드는 것",
    },
  },
];

// ===== 약국 =====
const pharmacy: ConversationFlow = [
  {
    id: "phar-1",
    npcMessage: "いらっしゃいませ。今日はどうされましたか？",
    npcMessageKo: "어서 오세요. 오늘 어떻게 오셨나요?",
    npcMessagePronunciation: "이랏샤이마세. 쿄-와 도-사레마시타카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "風邪薬を探しているんですが。熱と咳があります。",
        textKo: "감기약을 찾고 있는데요. 열과 기침이 있습니다.",
        textPronunciation: "카제구스리오 사가시테이룬데스가. 네츠토 세키가 아리마스.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 약을 찾으면서 증상까지 설명하면 약사가 최적의 약을 추천해줄 수 있어요.",
          grammarPoint: "'風邪薬(카제구스리)'는 '감기약'. 風邪(감기) + 薬(약)의 합성어에요.",
        },
      },
      {
        text: "風邪薬はありますか？",
        textKo: "감기약 있나요?",
        textPronunciation: "카제구스리와 아리마스카?",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 증상도 함께 말하면 더 적합한 약을 추천받을 수 있어요.",
          betterExpression: "風邪薬を探しています。熱と咳があります。",
          betterExpressionKo: "감기약을 찾고 있습니다. 열과 기침이 있습니다.",
          betterExpressionPronunciation: "카제구스리오 사가시테이마스. 네츠토 세키가 아리마스.",
          grammarPoint: "약국에서는 증상을 함께 말하면 더 좋은 약을 추천받을 수 있어요.",
        },
      },
      {
        text: "薬、ちょうだい。",
        textKo: "약 줘.",
        textPronunciation: "쿠스리, 초-다이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "'ちょうだい'는 어린아이가 쓰는 반말이에요! 약국에서는 정중하게 말하세요.",
          betterExpression: "風邪薬はありますか？",
          betterExpressionKo: "감기약 있나요?",
          betterExpressionPronunciation: "카제구스리와 아리마스카?",
          grammarPoint: "'ちょうだい'는 'ください'의 반말. 가게에서는 절대 쓰면 안 돼요!",
        },
      },
    ],
    kanjiNote: {
      kanji: "風邪",
      reading: "かぜ",
      pronunciation: "카제",
      meaning: "감기",
      explanation: "風(바람 풍) + 邪(사악할 사) — '나쁜 바람'이 몸에 들어온 것이라는 옛 생각에서 유래",
    },
  },
  {
    id: "phar-2",
    npcMessage: "熱と咳ですね。こちらの薬が効きますよ。粉薬と錠剤がありますが、どちらがいいですか？",
    npcMessageKo: "열과 기침이군요. 이 약이 잘 듣습니다. 가루약과 알약이 있는데, 어느 쪽이 좋으세요?",
    npcMessagePronunciation: "네츠토 세키데스네. 코치라노 쿠스리가 키키마스요. 코나구스리토 죠-자이가 아리마스가, 도치라가 이-데스카?",
    npcEmotion: "encouraging",
    choices: [
      {
        text: "錠剤でお願いします。飲みやすいので。",
        textKo: "알약으로 부탁합니다. 먹기 편하니까요.",
        textPronunciation: "죠-자이데 오네가이시마스. 노미야스이노데.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! 선호도와 이유를 함께 말한 좋은 표현이에요.",
          grammarPoint: "'〜やすい'는 '〜하기 쉽다/편하다'. '飲みやすい(노미야스이/먹기 쉬운)'. 반대는 '〜にくい(〜하기 어렵다)'.",
        },
      },
      {
        text: "錠剤でお願いします。",
        textKo: "알약으로 부탁합니다.",
        textPronunciation: "죠-자이데 오네가이시마스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 간결하게 선택을 전달했어요.",
          grammarPoint: "약 종류: 錠剤(죠-자이/알약), 粉薬(코나구스리/가루약), シロップ(시롭푸/시럽), カプセル(카푸세루/캡슐)",
        },
      },
      {
        text: "どっちでもいい。",
        textKo: "아무거나 괜찮아.",
        textPronunciation: "돗치데모 이-",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요! 또, 약의 형태는 복용 편의에 영향을 주니 선택하는 게 좋아요.",
          betterExpression: "どちらでも大丈夫です。",
          betterExpressionKo: "어느 쪽이든 괜찮습니다.",
          betterExpressionPronunciation: "도치라데모 다이죠-부데스",
          grammarPoint: "'どっち'는 반말, 'どちら'는 존댓말. 약국에서는 'どちら'를 사용하세요.",
        },
      },
    ],
  },
  {
    id: "phar-3",
    npcMessage: "はい、錠剤ですね。一日三回、食後に飲んでください。アレルギーはありますか？",
    npcMessageKo: "네, 알약이요. 하루 3번, 식후에 드세요. 알레르기는 있으세요?",
    npcMessagePronunciation: "하이, 죠-자이데스네. 이치니치 산카이, 쇼쿠고니 논데쿠다사이. 아레루기-와 아리마스카?",
    npcEmotion: "neutral",
    choices: [
      {
        text: "アレルギーは特にありません。一日三回、食後ですね。",
        textKo: "알레르기는 특별히 없습니다. 하루 3번, 식후이죠.",
        textPronunciation: "아레루기-와 토쿠니 아리마셍. 이치니치 산카이, 쇼쿠고데스네.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "완벽해요! 알레르기 확인과 복용법 복기까지 훌륭해요.",
          grammarPoint: "복용 횟수: 一日一回(이치니치 잇카이/1일 1회), 一日二回(니카이/2회), 一日三回(산카이/3회)",
        },
      },
      {
        text: "特にないです。",
        textKo: "특별히 없습니다.",
        textPronunciation: "토쿠니 나이데스",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "좋아요! 복용법도 복기하면 더 확실해요.",
          betterExpression: "特にありません。食後に三回ですね。",
          betterExpressionKo: "특별히 없습니다. 식후에 3번이죠.",
          betterExpressionPronunciation: "토쿠니 아리마셍. 쇼쿠고니 산카이데스네.",
          grammarPoint: "'食後(쇼쿠고)'는 '식후'. '食前(쇼쿠젠)'은 '식전'. '食間(쇼쿠캉)'은 '식간(식사 사이)'.",
        },
      },
      {
        text: "ない。",
        textKo: "없어.",
        textPronunciation: "나이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요! 건강 관련 질문에는 정중하고 명확하게 대답하세요.",
          betterExpression: "特にありません。",
          betterExpressionKo: "특별히 없습니다.",
          betterExpressionPronunciation: "토쿠니 아리마셍",
          grammarPoint: "'ない'는 반말, 'ありません'은 존댓말. 약국에서는 존댓말을 사용하세요.",
        },
      },
    ],
    kanjiNote: {
      kanji: "食後",
      reading: "しょくご",
      pronunciation: "쇼쿠고",
      meaning: "식후",
      explanation: "食(먹을 식) + 後(뒤 후) — 밥을 먹은 뒤. 약 복용 타이밍으로 자주 나오는 표현!",
    },
  },
  {
    id: "phar-4",
    npcMessage: "はい、こちら980円になります。お水もご一緒にいかがですか？お薬と一緒に飲めますよ。",
    npcMessageKo: "네, 980엔입니다. 물도 함께 어떠세요? 약과 함께 드실 수 있어요.",
    npcMessagePronunciation: "하이, 코치라 큐-햐쿠하치쥬-엥니 나리마스. 오미즈모 고잇쇼니 이카가데스카? 오쿠스리토 잇쇼니 노메마스요.",
    npcEmotion: "happy",
    isLast: true,
    choices: [
      {
        text: "はい、お水もお願いします。ありがとうございました。",
        textKo: "네, 물도 부탁합니다. 감사합니다.",
        textPronunciation: "하이, 오미즈모 오네가이시마스. 아리가또고자이마시타.",
        quality: "best",
        correction: {
          wasCorrect: true,
          explanation: "자연스러워요! 약과 물을 함께 구매하고 감사 인사까지 완벽해요.",
          grammarPoint: "'ご一緒に(고잇쇼니)'는 '함께'라는 뜻의 정중한 표현. 세트 구매를 권유할 때 자주 들어요.",
        },
      },
      {
        text: "大丈夫です。ありがとうございます。",
        textKo: "괜찮습니다. 감사합니다.",
        textPronunciation: "다이죠-부데스. 아리가또고자이마스.",
        quality: "acceptable",
        correction: {
          wasCorrect: true,
          explanation: "부드럽게 거절하고 감사 인사까지 좋아요!",
          grammarPoint: "약국에서 약을 살 때 보험증(保険証/호켄쇼-)이 있으면 저렴해질 수 있어요.",
        },
      },
      {
        text: "水はいらない。",
        textKo: "물은 필요 없어.",
        textPronunciation: "미즈와 이라나이",
        quality: "poor",
        correction: {
          wasCorrect: false,
          explanation: "반말이에요! 친절한 제안에는 정중하게 거절하세요.",
          betterExpression: "お水は大丈夫です。ありがとうございます。",
          betterExpressionKo: "물은 괜찮습니다. 감사합니다.",
          betterExpressionPronunciation: "오미즈와 다이죠-부데스. 아리가또고자이마스.",
          grammarPoint: "제안을 거절할 때는 '大丈夫です'가 가장 부드러운 표현이에요.",
        },
      },
    ],
  },
];

// 모든 대화 흐름을 시나리오 ID로 매핑
export const conversationFlows: Record<string, ConversationFlow> = {
  "airport-immigration": airportImmigration,
  "convenience-store": convenienceStore,
  "izakaya": izakaya,
  "asking-directions": askingDirections,
  "taxi-ride": taxiRide,
  "train-station": trainStation,
  "restaurant-reservation": restaurantReservation,
  "hotel-checkin": hotelCheckin,
  "clothing-store": clothingStore,
  "tourist-spot": touristSpot,
  "hospital": hospital,
  "pharmacy": pharmacy,
};
